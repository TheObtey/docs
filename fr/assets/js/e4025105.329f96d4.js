"use strict";(self.webpackChunkdocs_docusaurus=self.webpackChunkdocs_docusaurus||[]).push([[805],{3905:function(e,t,n){n.d(t,{Zo:function(){return l},kt:function(){return d}});var r=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var u=r.createContext({}),c=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},l=function(e){var t=c(e.components);return r.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,u=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),f=c(n),d=i,m=f["".concat(u,".").concat(d)]||f[d]||p[d]||a;return n?r.createElement(m,o(o({ref:t},l),{},{components:n})):r.createElement(m,o({ref:t},l))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=f;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var c=2;c<a;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},87469:function(e,t,n){n.d(t,{PZ:function(){return k},SM:function(){return s},Ut:function(){return y},YS:function(){return o},Yb:function(){return f},aj:function(){return v},p2:function(){return h},rt:function(){return g}});n(83117),n(80102),n(67294);var r=n(3905),i=n(80143),a=function(){return(0,i.zu)().path},o=function(e){var t=e.title,n=e.description,i=e.href,o=e.image_src;return(0,r.kt)("a",{class:"card-link",href:i.startsWith("http")?i:a()+"/"+i},(0,r.kt)("img",{src:o||"/img/docs/nanos-world-background.jpg"}),(0,r.kt)("h4",null,t),(0,r.kt)("p",null,n))},s=function(e){var t=e.children,n=e.href;return(0,r.kt)("a",{class:"reference-link",href:n.startsWith("http")?n:a()+"/"+n},t,(0,r.kt)("span",null,n))},u=function(e,t){return(0,r.kt)("a",{class:"authority-availability",href:a()+"/core-concepts/scripting/authority-concepts#methods-and-events-availability"},(0,r.kt)("img",{src:e,title:t}))},c=function(e){return(0,r.kt)("a",{href:a()+"/scripting-reference/glossary/basic-types#"+e.toLowerCase()},e)},l=function(e,t){return(0,r.kt)("a",{href:a()+"/scripting-reference/utility-classes/"+(t||e.toLowerCase())},e)},p=function(e,t){return(0,r.kt)("a",{href:a()+"/scripting-reference/classes/"+(t||e.toLowerCase())},e)},f=function(e){var t=e.children;return(0,r.kt)("a",{href:a()+"/scripting-reference/glossary/enums#"+t.toLowerCase(),title:t+" Enum (number)"},t)},d=function(e){return(0,r.kt)("a",{href:a()+"/core-concepts/assets#referencing-assets-in-scripting",title:"Asset Path (string)"},e)},m=function(e){return(0,r.kt)("a",{href:a()+"/scripting-reference/glossary/basic-types#specialpath",title:"Special Path (string)"},e)},v={AuthorityOnly:function(){return u("/img/scripting/authority-only.svg","authority-only - this can be called only on the side which spawned it!")},ServerOnly:function(){return u("/img/scripting/server-only.svg","server-only - this can be called only on server side!")},ClientOnly:function(){return u("/img/scripting/client-only.svg","client-only - this can be called only on client side!")},Both:function(){return u("/img/scripting/both.png","both-sides - this can be called on any side!")}},g={Number:function(){return c("number")},String:function(){return c("string")},Boolean:function(){return c("boolean")},Table:function(){return c("table")},Iterator:function(){return c("iterator")},Any:function(){return c("any")},Function:function(){return c("function")},Nil:function(){return c("nil")}},y={Vector:function(){return l("Vector")},Rotator:function(){return l("Rotator")},Color:function(){return l("Color")},Quat:function(){return l("Quat","quaternion")},Vector2D:function(){return l("Vector2D","vectortwod")}},k={Actor:function(){return p("Actor","base-classes/actor")},Paintable:function(){return p("Paintable","base-classes/paintable")},Pickable:function(){return p("Pickable","base-classes/pickable")},Billboard:function(){return p("Billboard")},Blueprint:function(){return p("Blueprint")},Canvas:function(){return p("Canvas")},Cable:function(){return p("Cable")},Character:function(){return p("Character")},Database:function(){return p("Database")},File:function(){return p("File")},Grenade:function(){return p("Grenade")},Melee:function(){return p("Melee")},Light:function(){return p("Light")},Particle:function(){return p("Particle")},Player:function(){return p("Player")},Prop:function(){return p("Prop")},Sound:function(){return p("Sound")},SceneCapture:function(){return p("SceneCapture","scene-capture")},StaticMesh:function(){return p("StaticMesh","static-mesh")},TextRender:function(){return p("TextRender","text-render")},Trigger:function(){return p("Trigger")},Vehicle:function(){return p("Vehicle")},Weapon:function(){return p("Weapon")},WebUI:function(){return p("WebUI")}},h={StaticMesh:function(){return d("StaticMesh Asset")},SkeletalMesh:function(){return d("SkeletalMesh Asset")},Animation:function(){return d("Animation Asset")},Particle:function(){return d("Particle Asset")},Material:function(){return d("Material Asset")},Map:function(){return d("Map Asset")},Blueprint:function(){return d("Blueprint Asset")},Sound:function(){return m("Sound Asset or Special Path")},Image:function(){return m("Image Special Path")},HTML:function(){return m("HTML Special Path")}}},70358:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return c},default:function(){return m},frontMatter:function(){return u},metadata:function(){return l},toc:function(){return f}});var r=n(83117),i=n(80102),a=(n(67294),n(3905)),o=n(87469),s=["components"],u={title:"Valeurs des entit\xe9s",description:"Comment stocker des donn\xe9es dans des entit\xe9s accessibles depuis n'importe o\xf9",sidebar_position:4,tags:["scripting"]},c=void 0,l={unversionedId:"core-concepts/scripting/entity-values",id:"version-latest/core-concepts/scripting/entity-values",title:"Valeurs des entit\xe9s",description:"Comment stocker des donn\xe9es dans des entit\xe9s accessibles depuis n'importe o\xf9",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-latest/core-concepts/scripting/entity-values.mdx",sourceDirName:"core-concepts/scripting",slug:"/core-concepts/scripting/entity-values",permalink:"/fr/docs/core-concepts/scripting/entity-values",draft:!1,editUrl:"https://github.com/nanos-world/docs/edit/master/versioned_docs/version-latest/core-concepts/scripting/entity-values.mdx",tags:[{label:"scripting",permalink:"/fr/docs/tags/scripting"}],version:"latest",sidebarPosition:4,frontMatter:{title:"Valeurs des entit\xe9s",description:"Comment stocker des donn\xe9es dans des entit\xe9s accessibles depuis n'importe o\xf9",sidebar_position:4,tags:["scripting"]},sidebar:"version-latest/main",previous:{title:"Communication entre Packages",permalink:"/fr/docs/core-concepts/scripting/communicating-between-packages"},next:{title:"User Interface",permalink:"/fr/docs/core-concepts/scripting/user-interface"}},p={},f=[{value:"<code>SetValue</code>",id:"setvalue",level:2},{value:"<code>GetValue</code>",id:"getvalue",level:2}],d={toc:f};function m(e){var t=e.components,n=(0,i.Z)(e,s);return(0,a.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Comment stocker des donn\xe9es dans des entit\xe9s accessibles depuis n'importe o\xf9"),(0,a.kt)("p",null,"Dans nanos world, il est possible de stocker des donn\xe9es sur des entit\xe9s. Ces valeurs sont accessibles par n'importe quel Package et vous pouvez \xe9galement d\xe9terminer si la valeur sera automatiquement synchronis\xe9e avec les clients."),(0,a.kt)("p",null,"Dans la page ",(0,a.kt)(o.PZ.Actor,null)," on peut trouver les d\xe9finitions des m\xe9thodes ",(0,a.kt)("inlineCode",{parentName:"p"},":SetValue()")," et ",(0,a.kt)("inlineCode",{parentName:"p"},":GetValue()"),". Also it is possible to store Values globally on ",(0,a.kt)("a",{parentName:"p",href:"/fr/docs/scripting-reference/static-classes/client"},"Client")," and ",(0,a.kt)("a",{parentName:"p",href:"/fr/docs/scripting-reference/static-classes/server"},"Server")," Static Classes with the same methods!"),(0,a.kt)("h2",{id:"setvalue"},(0,a.kt)("inlineCode",{parentName:"h2"},"SetValue")),(0,a.kt)("p",null,"Sur n'importe quelle entit\xe9, vous pouvez utiliser la m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"p"},":SetValue(key, value, sync)")," pour d\xe9finir n'importe quelle valeur sur cette entit\xe9. Example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua",metastring:'title="Server/Index.lua"',title:'"Server/Index.lua"'},"-- D\xe9finit une valeur 'my_value' synchronis\xe9e.\nmy_player:SetValue(\"my_value\", 100, true)\n")),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"Il est possible de stocker des valeurs de type ",(0,a.kt)(o.rt.Any,null),", \xe0 l'exception des ",(0,a.kt)("inlineCode",{parentName:"p"},"fonctions"),".")),(0,a.kt)("p",null,"Si vous passez ",(0,a.kt)("inlineCode",{parentName:"p"},"sync")," comme vrai, cette valeur sera automatiquement synchronis\xe9e avec tous les clients. Notez que ",(0,a.kt)("inlineCode",{parentName:"p"},"sync")," est un param\xe8tre facultatif disponible uniquement sur le cot\xe9 ",(0,a.kt)("strong",{parentName:"p"},"Serveur"),"."),(0,a.kt)("admonition",{title:"note",type:"info"},(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("strong",{parentName:"p"},"Client.SetValue()")," et ",(0,a.kt)("strong",{parentName:"p"},"Server.SetValue()")," n'auront pas le dernier param\xe8tre ",(0,a.kt)("inlineCode",{parentName:"p"},"sync"),". En effet, la valeur n'existera que sur le c\xf4t\xe9 que vous d\xe9finissez.")),(0,a.kt)("h2",{id:"getvalue"},(0,a.kt)("inlineCode",{parentName:"h2"},"GetValue")),(0,a.kt)("p",null,"Apr\xe8s avoir \xe9t\xe9 d\xe9fini, vous pouvez acc\xe9der \xe0 n'importe quelle valeur de n'importe quelle entit\xe9 en utilisant ",(0,a.kt)("inlineCode",{parentName:"p"},":GetValue(key)")," sur n'importe quelle entit\xe9 que vous voulez. Si vous d\xe9finissez la valeur \xe0 synchroniser sur les Clients, vous serez en mesure d'obtenir les valeurs du c\xf4t\xe9 Client \xe9galement. Vous pouvez passer un param\xe8tre aditionnel ",(0,a.kt)("inlineCode",{parentName:"p"},"fallback")," qui sera retourn\xe9 si la cl\xe9 n'existe pas!"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},"-- Obtient la valeur 'my_value' ou retourne '0' si aucune valeur n'est d\xe9finie\nlocale my_value = my_player:GetValue(\"my_value\", 0)\n")),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"Soyez conscient que le stockage des ",(0,a.kt)("strong",{parentName:"p"},"entit\xe9s")," lui-m\xeame n'annulera pas la valeur si l'entit\xe9 est d\xe9truite, c'est donc une bonne pratique de valider les valeurs if avec ",(0,a.kt)("inlineCode",{parentName:"p"},":IsValid()")," apr\xe8s les avoir r\xe9cup\xe9r\xe9es.")))}m.isMDXComponent=!0}}]);