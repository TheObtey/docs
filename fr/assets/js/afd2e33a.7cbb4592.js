"use strict";(self.webpackChunkdocs_docusaurus=self.webpackChunkdocs_docusaurus||[]).push([[9768],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>m});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),c=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=c(e.components);return n.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},l=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,s=e.originalType,p=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),l=c(a),m=r,g=l["".concat(p,".").concat(m)]||l[m]||u[m]||s;return a?n.createElement(g,o(o({ref:t},d),{},{components:a})):n.createElement(g,o({ref:t},d))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=a.length,o=new Array(s);o[0]=l;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var c=2;c<s;c++)o[c]=a[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}l.displayName="MDXCreateElement"},43735:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>c});var n=a(87462),r=(a(67294),a(3905));const s={title:"Map Script et Configuration",description:"Comment cr\xe9er et exporter des maps de Unreal Engine vers Nanos World",tags:["assets"],keywords:["map","level","package","script"]},o=void 0,i={unversionedId:"assets-modding/creating-assets/maps-and-levels/map-script-and-data",id:"assets-modding/creating-assets/maps-and-levels/map-script-and-data",title:"Map Script et Configuration",description:"Comment cr\xe9er et exporter des maps de Unreal Engine vers Nanos World",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/assets-modding/creating-assets/maps-and-levels/map-script-and-data.md",sourceDirName:"assets-modding/creating-assets/maps-and-levels",slug:"/assets-modding/creating-assets/maps-and-levels/map-script-and-data",permalink:"/fr/docs/next/assets-modding/creating-assets/maps-and-levels/map-script-and-data",draft:!1,editUrl:"https://crowdin.com/project/nanos-world-docs/fr",tags:[{label:"assets",permalink:"/fr/docs/next/tags/assets"}],version:"current",frontMatter:{title:"Map Script et Configuration",description:"Comment cr\xe9er et exporter des maps de Unreal Engine vers Nanos World",tags:["assets"],keywords:["map","level","package","script"]},sidebar:"main",previous:{title:"Cr\xe9er sa carte personnalis\xe9e",permalink:"/fr/docs/next/assets-modding/creating-assets/maps-and-levels/importing-maps"},next:{title:"water",permalink:"/fr/docs/next/assets-modding/creating-assets/maps-and-levels/water"}},p={},c=[{value:"Structure des dossiers",id:"structure-des-dossiers",level:2},{value:"Ajout d&#39;un fichier de configuration",id:"ajout-dun-fichier-de-configuration",level:2},{value:"Ajout d&#39;un Package",id:"ajout-dun-package",level:2},{value:"Ajout d&#39;une Image de Map",id:"ajout-dune-image-de-map",level:2},{value:"Extra Tips",id:"extra-tips",level:2}],d={toc:c};function u(e){let{components:t,...s}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Dans nanos world, les maps peuvent avoir leur propre Package et un fichier de Data associ\xe9 \xe0 celui-ci. Celles-ci sont automatiquement charg\xe9es lorsque le serveur d\xe9marre avec une carte."),(0,r.kt)("h2",{id:"structure-des-dossiers"},"Structure des dossiers"),(0,r.kt)("p",null,"Pour pouvoir ajouter un Package de Map, des Donn\xe9es Customis\xe9es et m\xeame une Image \xe0 votre map, vous devez cr\xe9er la structure appropri\xe9e."),(0,r.kt)("p",null,"Pour cela, cr\xe9ez un dossier du m\xeame nom que votre fichier de carte (",(0,r.kt)("inlineCode",{parentName:"p"},".umap"),") en plus de :"),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(25426).Z,width:"686",height:"223"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text",metastring:'title="Map Folder"',title:'"Map','Folder"':!0},"Assets/\n\u251c\u2500\u2500 my-asset-pack-01/\n\u2502   \u251c\u2500\u2500 MyMap/\n\u2502   \u2502   \u251c\u2500\u2500 MyMap.umap\n\u2502   \u2502   \u251c\u2500\u2500 MyMap/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 Client/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 Server/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 Shared/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 Map.toml\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 Map.jpg\n\u2514\u2500\u2500 my-asset-pack-02/\n    \u2514\u2500\u2500 ...\n")),(0,r.kt)("h2",{id:"ajout-dun-fichier-de-configuration"},"Ajout d'un fichier de configuration"),(0,r.kt)("p",null,"Maintenant, les cartes peuvent avoir leur propre fichier de configuration ",(0,r.kt)("inlineCode",{parentName:"p"},"Map.toml"),", ce fichier contient un en-t\xeate avec une configuration commune et un espace pour les donn\xe9es customis\xe9es."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-toml",metastring:"reference",reference:!0},"https://github.com/nanos-world/nanos-world-server/blob/main/Map.toml\n")),(0,r.kt)("p",null,"Ces donn\xe9es peuvent \xeatre obtenues avec ",(0,r.kt)("inlineCode",{parentName:"p"},"Server.GetMapCustomData()")," et ",(0,r.kt)("inlineCode",{parentName:"p"},"Server.GetMapSpawnPoints()"),"."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Toutes les structures de nanos (Vectors, Rotators, Vector2D, etc) sont automatiquement analys\xe9s \xe0 partir de leur repr\xe9sentation de cha\xeene de caract\xe8res dans la structure Lua \xe0 partir des fichiers ",(0,r.kt)("inlineCode",{parentName:"p"},".toml"),".")),(0,r.kt)("h2",{id:"ajout-dun-package"},"Ajout d'un Package"),(0,r.kt)("p",null,"Dans ce dossier vous pouvez cr\xe9er tous les dossiers li\xe9s au Package: ",(0,r.kt)("inlineCode",{parentName:"p"},"Server/"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Client/")," et ",(0,r.kt)("inlineCode",{parentName:"p"},"Shared/")," et cr\xe9ez vos scripts comme d'habitude. Ceci sera charg\xe9 comme un paquet normal lorsque votre carte se chargera. Habituellement, ces scripts devraient avoir des accessoires/armes de spawn sp\xe9cifiques \xe0 la carte et des choses pertinentes."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Si au moins un des paquets charg\xe9s active le param\xe8tre ",(0,r.kt)("inlineCode",{parentName:"p"},"force_no_map_script")," alors ce paquet ne se chargera pas.")),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(99492).Z,width:"684",height:"246"})),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Le paquet de carte sera charg\xe9 avec le nom ",(0,r.kt)("inlineCode",{parentName:"p"},"map-package"),".")),(0,r.kt)("h2",{id:"ajout-dune-image-de-map"},"Ajout d'une Image de Map"),(0,r.kt)("p",null,"Vous pouvez ajouter une image ",(0,r.kt)("inlineCode",{parentName:"p"},".jpg")," appel\xe9e ",(0,r.kt)("inlineCode",{parentName:"p"},"Map.jpg")," dans le dossier de la carte. Cette image sera automatiquement charg\xe9e lors de la navigation dans le menu Nouveau jeu."),(0,r.kt)("h2",{id:"extra-tips"},"Extra Tips"),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Comme le serveur de nanos world ne conna\xeet pas Unreal ou ses assets, nous devons d'une mani\xe8re ou d'une autre indiquer au serveur o\xf9 se trouvent les parties de la map pouvant faire l'objet d'un script, comme les points d'apparition, les emplacements des props, les emplacements des armes, etc."),(0,r.kt)("p",{parentName:"admonition"},"C'est une approche recommand\xe9e pour impl\xe9menter tous les emplacements d'apparition des props, des armes et des v\xe9hicules dans votre pack de cartes ",(0,r.kt)("inlineCode",{parentName:"p"},"[Map]/Server/Index. ua")," et d\xe9finissez tous les points d'apparition du Joueur dans le fichier de configuration ",(0,r.kt)("inlineCode",{parentName:"p"},"[Map]/Map.toml"),".")))}u.isMDXComponent=!0},25426:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/map-package-01-1f5535e656282158eeb65ac9163abca6.jpg"},99492:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/map-package-02-b5a5d3b945c2120dad8140a6994e4ffd.jpg"}}]);