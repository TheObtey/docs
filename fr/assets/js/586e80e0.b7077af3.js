"use strict";(self.webpackChunkdocs_docusaurus=self.webpackChunkdocs_docusaurus||[]).push([[9696],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>m});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),l=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=l(e.components);return n.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,s=e.originalType,p=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=l(a),m=r,g=u["".concat(p,".").concat(m)]||u[m]||d[m]||s;return a?n.createElement(g,o(o({ref:t},c),{},{components:a})):n.createElement(g,o({ref:t},c))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=a.length,o=new Array(s);o[0]=u;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var l=2;l<s;l++)o[l]=a[l];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},3070:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var n=a(87462),r=(a(67294),a(3905));const s={title:"Map Script et Configuration",description:"Comment cr\xe9er et exporter des maps de Unreal Engine vers Nanos World",tags:["assets"],keywords:["map","level","package","script"]},o=void 0,i={unversionedId:"assets-modding/creating-assets/maps-and-levels/map-script-and-data",id:"version-latest/assets-modding/creating-assets/maps-and-levels/map-script-and-data",title:"Map Script et Configuration",description:"Comment cr\xe9er et exporter des maps de Unreal Engine vers Nanos World",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-latest/assets-modding/creating-assets/maps-and-levels/map-script-and-data.md",sourceDirName:"assets-modding/creating-assets/maps-and-levels",slug:"/assets-modding/creating-assets/maps-and-levels/map-script-and-data",permalink:"/fr/docs/assets-modding/creating-assets/maps-and-levels/map-script-and-data",draft:!1,editUrl:"https://crowdin.com/project/nanos-world-docs/fr",tags:[{label:"assets",permalink:"/fr/docs/tags/assets"}],version:"latest",frontMatter:{title:"Map Script et Configuration",description:"Comment cr\xe9er et exporter des maps de Unreal Engine vers Nanos World",tags:["assets"],keywords:["map","level","package","script"]},sidebar:"version-latest/main",previous:{title:"Cr\xe9er sa carte personnalis\xe9e",permalink:"/fr/docs/assets-modding/creating-assets/maps-and-levels/importing-maps"},next:{title:"water",permalink:"/fr/docs/assets-modding/creating-assets/maps-and-levels/water"}},p={},l=[{value:"Structure des dossiers",id:"structure-des-dossiers",level:2},{value:"Ajout d&#39;un fichier de configuration",id:"ajout-dun-fichier-de-configuration",level:2},{value:"Ajout d&#39;un Package",id:"ajout-dun-package",level:2},{value:"Ajout d&#39;une Image de Map",id:"ajout-dune-image-de-map",level:2},{value:"Extra Tips",id:"extra-tips",level:2}],c={toc:l};function d(e){let{components:t,...s}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Dans nanos world, les maps peuvent avoir leur propre Package et un fichier de Data associ\xe9 \xe0 celui-ci. Celles-ci sont automatiquement charg\xe9es lorsque le serveur d\xe9marre avec une carte."),(0,r.kt)("h2",{id:"structure-des-dossiers"},"Structure des dossiers"),(0,r.kt)("p",null,"Pour pouvoir ajouter un Package de Map, des Donn\xe9es Customis\xe9es et m\xeame une Image \xe0 votre map, vous devez cr\xe9er la structure appropri\xe9e."),(0,r.kt)("p",null,"Pour cela, cr\xe9ez un dossier du m\xeame nom que votre fichier de carte (",(0,r.kt)("inlineCode",{parentName:"p"},".umap"),") en plus de :"),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(25426).Z,width:"686",height:"223"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text",metastring:'title="Map Folder"',title:'"Map','Folder"':!0},"Assets/\n\u251c\u2500\u2500 my-asset-pack-01/\n\u2502   \u251c\u2500\u2500 MyMap/\n\u2502   \u2502   \u251c\u2500\u2500 MyMap.umap\n\u2502   \u2502   \u251c\u2500\u2500 MyMap/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 Client/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 Server/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 Shared/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 Map.toml\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 Map.jpg\n\u2514\u2500\u2500 my-asset-pack-02/\n    \u2514\u2500\u2500 ...\n")),(0,r.kt)("h2",{id:"ajout-dun-fichier-de-configuration"},"Ajout d'un fichier de configuration"),(0,r.kt)("p",null,"Maintenant, les cartes peuvent avoir leur propre fichier de configuration ",(0,r.kt)("inlineCode",{parentName:"p"},"Map.toml"),", ce fichier contient un en-t\xeate avec une configuration commune et un espace pour les donn\xe9es customis\xe9es."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-toml",metastring:"reference",reference:!0},"https://github.com/nanos-world/nanos-world-server/blob/main/Map.toml\n")),(0,r.kt)("p",null,"Ces donn\xe9es peuvent \xeatre obtenues avec ",(0,r.kt)("inlineCode",{parentName:"p"},"Server.GetMapCustomData()")," et ",(0,r.kt)("inlineCode",{parentName:"p"},"Server.GetMapSpawnPoints()"),"."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Toutes les structures de nanos (Vectors, Rotators, Vector2D, etc) sont automatiquement analys\xe9s \xe0 partir de leur repr\xe9sentation de cha\xeene de caract\xe8res dans la structure Lua \xe0 partir des fichiers ",(0,r.kt)("inlineCode",{parentName:"p"},".toml"),".")),(0,r.kt)("h2",{id:"ajout-dun-package"},"Ajout d'un Package"),(0,r.kt)("p",null,"Dans ce dossier vous pouvez cr\xe9er tous les dossiers li\xe9s au Package: ",(0,r.kt)("inlineCode",{parentName:"p"},"Server/"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Client/")," et ",(0,r.kt)("inlineCode",{parentName:"p"},"Shared/")," et cr\xe9ez vos scripts comme d'habitude. Ceci sera charg\xe9 comme un paquet normal lorsque votre carte se chargera. Habituellement, ces scripts devraient avoir des accessoires/armes de spawn sp\xe9cifiques \xe0 la carte et des choses pertinentes."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"If at least one of the loaded packages enable the setting ",(0,r.kt)("inlineCode",{parentName:"p"},"force_no_map_script")," then this Package will not load.")),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(99492).Z,width:"684",height:"246"})),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"The Map Package will be loaded with the name ",(0,r.kt)("inlineCode",{parentName:"p"},"map-package"),".")),(0,r.kt)("h2",{id:"ajout-dune-image-de-map"},"Ajout d'une Image de Map"),(0,r.kt)("p",null,"You can add a ",(0,r.kt)("inlineCode",{parentName:"p"},".jpg")," image called ",(0,r.kt)("inlineCode",{parentName:"p"},"Map.jpg")," inside the Map Folder. This image will be automatically loaded when browsing through New Game menu."),(0,r.kt)("h2",{id:"extra-tips"},"Extra Tips"),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"As nanos world server is not aware of Unreal or it's Assets, we need to somehow say to the server where are the scriptable part of the map, such as Spawn Points, Props locations, Weapon locations and so on."),(0,r.kt)("p",{parentName:"admonition"},"It is a recommended approach to implement all Props, Weapons and Vehicles spawn locations in your Map Package ",(0,r.kt)("inlineCode",{parentName:"p"},"[Map]/Server/Index.lua")," and define all Player's Spawn points in the Configuration file ",(0,r.kt)("inlineCode",{parentName:"p"},"[Map]/Map.toml"),".")))}d.isMDXComponent=!0},25426:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/map-package-01-1f5535e656282158eeb65ac9163abca6.jpg"},99492:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/map-package-02-b5a5d3b945c2120dad8140a6994e4ffd.jpg"}}]);