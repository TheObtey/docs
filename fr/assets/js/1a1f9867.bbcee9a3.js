"use strict";(self.webpackChunkdocs_docusaurus=self.webpackChunkdocs_docusaurus||[]).push([[3433],{3905:function(e,t,a){a.d(t,{Zo:function(){return c},kt:function(){return u}});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},g=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),g=p(a),u=r,k=g["".concat(l,".").concat(u)]||g[u]||d[u]||o;return a?n.createElement(k,s(s({ref:t},c),{},{components:a})):n.createElement(k,s({ref:t},c))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,s=new Array(o);s[0]=g;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:r,s[1]=i;for(var p=2;p<o;p++)s[p]=a[p];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}g.displayName="MDXCreateElement"},79065:function(e,t,a){a.r(t),a.d(t,{assets:function(){return c},contentTitle:function(){return l},default:function(){return u},frontMatter:function(){return i},metadata:function(){return p},toc:function(){return d}});var n=a(83117),r=a(80102),o=(a(67294),a(3905)),s=["components"],i={title:"Guide sur les Packages",description:"Tout ce que vous devez savoir sur les Packages",sidebar_position:0,tags:["scripting","packages"],keywords:["packages","scripting","lua"]},l=void 0,p={unversionedId:"core-concepts/packages/packages-guide",id:"core-concepts/packages/packages-guide",title:"Guide sur les Packages",description:"Tout ce que vous devez savoir sur les Packages",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/core-concepts/packages/packages-guide.md",sourceDirName:"core-concepts/packages",slug:"/core-concepts/packages/packages-guide",permalink:"/fr/docs/next/core-concepts/packages/packages-guide",draft:!1,editUrl:"https://github.com/nanos-world/docs/edit/master/docs/core-concepts/packages/packages-guide.md",tags:[{label:"scripting",permalink:"/fr/docs/next/tags/scripting"},{label:"packages",permalink:"/fr/docs/next/tags/packages"}],version:"current",sidebarPosition:0,frontMatter:{title:"Guide sur les Packages",description:"Tout ce que vous devez savoir sur les Packages",sidebar_position:0,tags:["scripting","packages"],keywords:["packages","scripting","lua"]},sidebar:"main",previous:{title:"Linux & ARM Server installation",permalink:"/fr/docs/next/core-concepts/server-manual/server-linux-arm"},next:{title:"\xc9cran de chargement",permalink:"/fr/docs/next/core-concepts/packages/loading-screen"}},c={},d=[{value:"Structure des dossiers",id:"structure-des-dossiers",level:2},{value:"Configuration des Packages",id:"configuration-des-packages",level:2},{value:"Settings Detailed",id:"settings-detailed",level:3},{value:"Types de Package",id:"types-de-package",level:3},{value:"Ignoring Client Folders",id:"ignoring-client-folders",level:2}],g={toc:d};function u(e){var t=e.components,i=(0,r.Z)(e,s);return(0,o.kt)("wrapper",(0,n.Z)({},g,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Les ",(0,o.kt)("strong",{parentName:"p"},"Packages")," sont des composants de votre serveur qui vont ex\xe9cuter des scripts Lua pour int\xe9ragir avec le jeu."),(0,o.kt)("p",null,(0,o.kt)("img",{src:a(55583).Z,width:"628",height:"170"})),(0,o.kt)("p",null,"Chaque Package est isol\xe9 et poss\xe8de sa propre Machine Virtuelle Lua (Lua VM), cela veut dire que chaque Package a sa propre port\xe9e globale et ne peut pas acc\xe9der directement aux donn\xe9es des autres Packages."),(0,o.kt)("h2",{id:"structure-des-dossiers"},"Structure des dossiers"),(0,o.kt)("p",null,"Tous les Packages doivent aller dans le r\xe9pertoire ",(0,o.kt)("inlineCode",{parentName:"p"},"Server/Packages/"),", chaque Package est un dossier dans ce r\xe9pertoire."),(0,o.kt)("p",null,"Ils peuvent contenir les dossiers suivants : ",(0,o.kt)("inlineCode",{parentName:"p"},"Server"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"Client")," et ",(0,o.kt)("inlineCode",{parentName:"p"},"Shared"),". Seul les dossiers ",(0,o.kt)("strong",{parentName:"p"},"Client")," and ",(0,o.kt)("strong",{parentName:"p"},"Shared")," seront envoy\xe9s et charg\xe9s par les clients quand ils se connecteront."),(0,o.kt)("p",null,"Chaque ",(0,o.kt)("strong",{parentName:"p"},"Package")," doit avoir un fichier nomm\xe9 ",(0,o.kt)("inlineCode",{parentName:"p"},"Index.lua")," \xe0 l'int\xe9rieur des dossiers ",(0,o.kt)("strong",{parentName:"p"},"Server"),", ",(0,o.kt)("strong",{parentName:"p"},"Client")," ou ",(0,o.kt)("strong",{parentName:"p"},"Shared"),", il s'agit du seul fichier qui sera lu lorsque le Package sera charg\xe9, par cons\xe9quent ce fichier se doit d'inclure les autres fichiers du Package et ainsi les d\xe9marrer."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text",metastring:'title="Server Folder"',title:'"Server','Folder"':!0},"NanosWorldServer.exe\nPackages/\n\u251c\u2500\u2500 My_Package_01/\n\u2502   \u251c\u2500\u2500 Server/\n\u2502   \u2502   \u251c\u2500\u2500 Index.lua\n\u2502   \u2502   \u2514\u2500\u2500 *.lua\n\u2502   \u251c\u2500\u2500 Client/\n\u2502   \u2502   \u2514\u2500\u2500 *.lua\n\u2502   \u251c\u2500\u2500 Shared/\n\u2502   \u2502   \u2514\u2500\u2500 *.lua\n\u2502   \u2514\u2500\u2500 Package.toml\n\u251c\u2500\u2500 My_Package_02/\n\u2502   \u251c\u2500\u2500 Package.toml\n\u2502   \u2514\u2500\u2500 ...\nAssets/\nConfig.toml\n")),(0,o.kt)("h2",{id:"configuration-des-packages"},"Configuration des Packages"),(0,o.kt)("p",null,"Les Packages ont un fichier de configuration nomm\xe9 ",(0,o.kt)("inlineCode",{parentName:"p"},"Package.toml"),", dans la racine du dossier du Package. Dans ce fichier il est possible de configurer tous les param\xe8tres importants li\xe9s au Package :"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-toml",metastring:"reference",reference:!0},"https://github.com/nanos-world/nanos-world-server/blob/main/Package.toml\n")),(0,o.kt)("h3",{id:"settings-detailed"},"Settings Detailed"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"left"},"Setting"),(0,o.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("inlineCode",{parentName:"strong"},"name"))),(0,o.kt)("td",{parentName:"tr",align:"left"},"Nom familier du Package")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("inlineCode",{parentName:"strong"},"author"))),(0,o.kt)("td",{parentName:"tr",align:"left"},"Author(s) of the Package")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("inlineCode",{parentName:"strong"},"version"))),(0,o.kt)("td",{parentName:"tr",align:"left"},"Version du Package - se r\xe9f\xe9rer \xe0 ",(0,o.kt)("a",{parentName:"td",href:"https://semver.org/"},"SemVer"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("inlineCode",{parentName:"strong"},"image"))),(0,o.kt)("td",{parentName:"tr",align:"left"},"Image URL to be displayed in the Vault")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("inlineCode",{parentName:"strong"},"type"))),(0,o.kt)("td",{parentName:"tr",align:"left"},"Type de package - se r\xe9f\xe9rer \xe0 ",(0,o.kt)("a",{parentName:"td",href:"#package-types"},"Package Types"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("inlineCode",{parentName:"strong"},"force_no_map_script"))),(0,o.kt)("td",{parentName:"tr",align:"left"},"Enabling this will force the map-script (if any) to do NOT load")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("inlineCode",{parentName:"strong"},"auto_cleanup"))),(0,o.kt)("td",{parentName:"tr",align:"left"},"Activer cela d\xe9truira toutes les entit\xe9s cr\xe9ees par ce Package lors de sa d\xe9sactivation")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("inlineCode",{parentName:"strong"},"packages_requirements"))),(0,o.kt)("td",{parentName:"tr",align:"left"},"Liste des Packages qui doivent \xeatre charg\xe9s avant le chargement de celui-ci")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("inlineCode",{parentName:"strong"},"assets_requirements"))),(0,o.kt)("td",{parentName:"tr",align:"left"},"Liste des packs d'assets \xe0 charger avant que ce package se charge")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("inlineCode",{parentName:"strong"},"compatible_maps"))),(0,o.kt)("td",{parentName:"tr",align:"left"},"List of Maps compatible/recommended to work with this Package")))),(0,o.kt)("h3",{id:"types-de-package"},"Types de Package"),(0,o.kt)("p",null,"Dans nanos world, nous avons 3 types de packages : ",(0,o.kt)("strong",{parentName:"p"},"script"),", ",(0,o.kt)("strong",{parentName:"p"},"game-mode")," et ",(0,o.kt)("strong",{parentName:"p"},"loading-screen"),", chacun a une fonctionnalit\xe9 et une utilit\xe9 sp\xe9cifique."),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,o.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("inlineCode",{parentName:"strong"},"script"))),(0,o.kt)("td",{parentName:"tr",align:"left"},"Package classique qui va ex\xe9cuter ses scripts et d\xe9marrer une nouvelle machine virtuelle Lua (Lua VM) quand il sera lanc\xe9.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("inlineCode",{parentName:"strong"},"game-mode"))),(0,o.kt)("td",{parentName:"tr",align:"left"},"Like ",(0,o.kt)("inlineCode",{parentName:"td"},"script")," but you can only load one ",(0,o.kt)("inlineCode",{parentName:"td"},"game-mode")," package at once.",(0,o.kt)("br",null),"Useful when you are creating full games which cannot be loaded with other full games packages.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("inlineCode",{parentName:"strong"},"library"))),(0,o.kt)("td",{parentName:"tr",align:"left"},"It will not load a ",(0,o.kt)("strong",{parentName:"td"},"Lua VM"),". Should be loaded through ",(0,o.kt)("inlineCode",{parentName:"td"},"Package.RequirePackage")," from other Packages.",(0,o.kt)("br",null),"Useful when you are creating a library or framework and want it being loaded on clients as well, or when you need to set this as dependency of other packages.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("strong",{parentName:"td"},(0,o.kt)("inlineCode",{parentName:"strong"},"loading-screen"))),(0,o.kt)("td",{parentName:"tr",align:"left"},"Special Package which will be loaded during player's loading screen.",(0,o.kt)("br",null),"Those packages must have an ",(0,o.kt)("inlineCode",{parentName:"td"},"Index.html")," in the root.",(0,o.kt)("br",null),"Please refer to ",(0,o.kt)("a",{parentName:"td",href:"/fr/docs/next/core-concepts/packages/loading-screen"},"Loading Screen")," for more information.")))),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"If you are creating a ",(0,o.kt)("strong",{parentName:"p"},"Tool")," or some ",(0,o.kt)("strong",{parentName:"p"},"Addon")," package, make it ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"script")),"!"),(0,o.kt)("p",{parentName:"admonition"},"If you are creating a ",(0,o.kt)("strong",{parentName:"p"},"Library"),", a ",(0,o.kt)("strong",{parentName:"p"},"Framework")," or some ",(0,o.kt)("strong",{parentName:"p"},"Utility")," package, make it ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"library")),"!"),(0,o.kt)("p",{parentName:"admonition"},"Si vous cr\xe9ez un ",(0,o.kt)("strong",{parentName:"p"},"mode de jeu")," unique et complet avec des fonctionnalit\xe9s que vous ne voulez pas voir g\xe2ch\xe9es si quelqu'un charge deux modes de jeu, faites un package ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"game-mode")),", un seul pourra \xeatre charg\xe9 \xe0 la fois !")),(0,o.kt)("h2",{id:"ignoring-client-folders"},"Ignoring Client Folders"),(0,o.kt)("p",null,"Sometimes you want to ignore some folders from being sent to the clients (e.g. auto generated folders from Node.js HTML ones)."),(0,o.kt)("p",null,"So, to make the server ignore it you just need to add an ",(0,o.kt)("inlineCode",{parentName:"p"},".ignore")," file in the root of that folder. Simple as that \ud83d\ude09."))}u.isMDXComponent=!0},55583:function(e,t,a){t.Z=a.p+"assets/images/packages-01-e5ca40b3250f77522f7e280d3a183cf9.jpg"}}]);