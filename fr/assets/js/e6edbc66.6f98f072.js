"use strict";(self.webpackChunkdocs_docusaurus=self.webpackChunkdocs_docusaurus||[]).push([[2843],{69401:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>c});var o=s(85893),r=s(11151);const l={title:"Modules",description:"Extension des fonctionnalit\xe9s de l'API de scripting de nanos world"},t=void 0,i={id:"core-concepts/modules",title:"Modules",description:"Extension des fonctionnalit\xe9s de l'API de scripting de nanos world",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-latest/core-concepts/modules.md",sourceDirName:"core-concepts",slug:"/core-concepts/modules",permalink:"/fr/docs/core-concepts/modules",draft:!1,unlisted:!1,editUrl:"https://crowdin.com/project/nanos-world-docs/fr",tags:[],version:"latest",frontMatter:{title:"Modules",description:"Extension des fonctionnalit\xe9s de l'API de scripting de nanos world"},sidebar:"main",previous:{title:"Assets Guide",permalink:"/fr/docs/core-concepts/assets"},next:{title:"Cycle de vie du Serveur & du Client",permalink:"/fr/docs/core-concepts/server-and-client-lifecycle"}},d={},c=[{value:"Cr\xe9er votre propre module C",id:"cr\xe9er-votre-propre-module-c",level:2},{value:"Premi\xe8res \xe9tapes",id:"premi\xe8res-\xe9tapes",level:4},{value:"Comprendre l&#39;exemple",id:"comprendre-lexemple",level:3},{value:"Compilation de votre module C",id:"compilation-de-votre-module-c",level:3},{value:"Utilisation de votre module C",id:"utilisation-de-votre-module-c",level:3}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Extension des fonctionnalit\xe9s de l'API de scripting de nanos world"}),"\n",(0,o.jsx)(n.p,{children:"Les modules vous permettent d'\xe9tendre les fonctionnalit\xe9s de l'API de scripting de nanos world c\xf4t\xe9 serveur. Actuellement, seuls les modules C sont pris en charge."}),"\n",(0,o.jsx)(n.admonition,{type:"caution",children:(0,o.jsx)(n.p,{children:"Sachez que cette partie de l'API de scripting est actuellement en cours de r\xe9alisation et peut \xeatre modifi\xe9e \xe0 tout moment."})}),"\n",(0,o.jsx)(n.h2,{id:"cr\xe9er-votre-propre-module-c",children:"Cr\xe9er votre propre module C"}),"\n",(0,o.jsx)(n.p,{children:"Il est \xe9galement possible de cr\xe9er votre propre module C/C++ et d'appeler ses fonctions depuis Nanos World."}),"\n",(0,o.jsx)(n.admonition,{type:"caution",children:(0,o.jsx)(n.p,{children:"Comme il s'agit d'une proc\xe9dure avanc\xe9e, des instabilit\xe9s, voire des crashs, peuvent se produire."})}),"\n",(0,o.jsxs)(n.p,{children:["Pour cr\xe9er votre propre module, assurez-vous que vous avez ",(0,o.jsx)(n.strong,{children:"Visual Studio"})," install\xe9 avec **D\xe9veloppement Desktop en C++ ** (et ",(0,o.jsx)(n.strong,{children:"CMake"}),") ou tout autre compilateur C sous Linux."]}),"\n",(0,o.jsx)(n.h4,{id:"premi\xe8res-\xe9tapes",children:"Premi\xe8res \xe9tapes"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Ensuite, clonez notre ",(0,o.jsx)(n.a,{href:"https://github.com/nanos-world-modules/module-example",children:"module d'exemple"})," dans votre ordinateur pour commencer \xe0 l'utiliser."]}),"\n",(0,o.jsxs)(n.li,{children:["Apr\xe8s le clonage, vous devrez t\xe9l\xe9charger ses submodules avec ",(0,o.jsx)(n.code,{children:"git submodule update --init --recursive"})," - ceci t\xe9l\xe9chargera le sdk du module ",(0,o.jsx)(n.a,{href:"https://github.com/nanos-world/module-sdk/",children:"module-sdk"})," comme un sous-module git dans le dossier deps/ automatiquement."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"comprendre-lexemple",children:"Comprendre l'exemple"}),"\n",(0,o.jsxs)(n.p,{children:["Le fichier important se trouve dans ",(0,o.jsx)(n.code,{children:"src/example.cpp"})," :"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-cpp",metastring:"reference",children:"https://github.com/nanos-world-modules/module-example/blob/main/src/example.cpp\n"})}),"\n",(0,o.jsx)(n.h3,{id:"compilation-de-votre-module-c",children:"Compilation de votre module C"}),"\n",(0,o.jsx)(n.p,{children:"Pour compiler l'exemple, suivez les \xe9tapes suivantes :"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Cr\xe9ez un dossier appel\xe9 : ",(0,o.jsx)(n.code,{children:"build/"}),": ",(0,o.jsx)(n.code,{children:"mkdir build"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Entrez le dossier du build: ",(0,o.jsx)(n.code,{children:"cd build"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Lancez ",(0,o.jsx)(n.code,{children:"cmake .."}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Faites un build avec ",(0,o.jsx)(n.code,{children:"cmake --build . --config Release"})]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["Et maintenant vous aurez les dlls/libs dans le dossier ",(0,o.jsx)(n.code,{children:"build/Release"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"utilisation-de-votre-module-c",children:"Utilisation de votre module C"}),"\n",(0,o.jsxs)(n.p,{children:["Copiez votre fichier ",(0,o.jsx)(n.code,{children:".dll"})," dans votre dossier Nanos World : ",(0,o.jsx)(n.code,{children:"Server/Modules"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"Et dans votre package, vous pouvez le charger et l'utiliser :"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-lua",children:"-- Loads the module 'example'\nlocal example = require('example')\n\n-- Calls the module function 'test'\n-- Will print 'Hello World' on console\nConsole.Log(example.test())\n"})})]})}function u(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},11151:(e,n,s)=>{s.d(n,{Z:()=>i,a:()=>t});var o=s(67294);const r={},l=o.createContext(r);function t(e){const n=o.useContext(l);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),o.createElement(l.Provider,{value:n},e.children)}}}]);