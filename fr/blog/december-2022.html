<!doctype html>
<html lang="fr" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">2022 Dec: One VM to Rule Them All! | nanos world</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.nanos.world/fr/blog/december-2022"><meta data-rh="true" name="docusaurus_locale" content="fr"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="fr"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="2022 Dec: One VM to Rule Them All! | nanos world"><meta data-rh="true" name="description" content="Une machine virtuelle Lua à la tête de tous !"><meta data-rh="true" property="og:description" content="Une machine virtuelle Lua à la tête de tous !"><meta data-rh="true" property="og:image" content="https://docs.nanos.world/fr/img/blog/2022-december/december-news.webp"><meta data-rh="true" name="twitter:image" content="https://docs.nanos.world/fr/img/blog/2022-december/december-news.webp"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-01-04T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://twitter.com/gtnardy"><meta data-rh="true" property="article:tag" content="updates"><link data-rh="true" rel="icon" href="/fr/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.nanos.world/fr/blog/december-2022"><link data-rh="true" rel="alternate" href="https://docs.nanos.world/blog/december-2022" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.nanos.world/pt-BR/blog/december-2022" hreflang="pt-BR"><link data-rh="true" rel="alternate" href="https://docs.nanos.world/de/blog/december-2022" hreflang="de"><link data-rh="true" rel="alternate" href="https://docs.nanos.world/fr/blog/december-2022" hreflang="fr"><link data-rh="true" rel="alternate" href="https://docs.nanos.world/blog/december-2022" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://2O07FIGQII-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/fr/blog/rss.xml" title="nanos world RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/fr/blog/atom.xml" title="nanos world Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="nanos world" href="/fr/opensearch.xml">


<script src="https://pac.nanos.io/js/script.js" async data-domain="docs.nanos.world"></script><link rel="stylesheet" href="/fr/assets/css/styles.59807349.css">
<link rel="preload" href="/fr/assets/js/runtime~main.ea1961c1.js" as="script">
<link rel="preload" href="/fr/assets/js/main.02c816f5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Passer au contenu principal"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Passer au contenu principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Basculer la barre de navigation" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://nanos.world/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/fr/img/nanos-world.png" alt="nanos world" class="themedImage_ToTc themedImage--light_HNdA"><img src="/fr/img/nanos-world.png" alt="nanos world" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">nanos world</b></a><a class="navbar__item navbar__link" href="/fr/docs">documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/fr/blog">actualités</a><a class="navbar__item navbar__link" href="/fr/changelog">changelog</a><a class="navbar__item navbar__link" href="/fr/feedback">commentaires</a><a href="https://issues.nanos.world" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">bugs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://auth.nanos.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">compte<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/fr/docs">latest - a1.51.x ⚖️</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/fr/docs/next">bleeding-edge 🩸</a></li><li><a class="dropdown__link" href="/fr/docs">latest - a1.51.x ⚖️</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>🇫🇷 Français</a><ul class="dropdown__menu"><li><a href="/blog/december-2022" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">🇬🇧 English</a></li><li><a href="/pt-BR/blog/december-2022" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt-BR">🇧🇷 Português (Brasil)</a></li><li><a href="/de/blog/december-2022" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">🇩🇪 Deutsch</a></li><li><a href="/fr/blog/december-2022" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="fr">🇫🇷 Français</a></li><li><a href="https://crowdin.com/project/nanos-world-docs/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help Us Translate<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://discord.nanos.world" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discord-link" aria-label="Discord"></a><a href="https://github.com/nanos-world" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Recherche"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Recherche</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Passer du mode sombre au mode clair (actuellement mode clair)" aria-label="Passer du mode sombre au mode clair (actuellement mode clair)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Navigation des articles récents dans le blog"><div class="sidebarItemTitle_pO2u margin-bottom--md">nouvelles de nanos world</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/march-2023">2023 Mar: File Transfer, Map Package!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/february-2023">2023 Feb: Widgets &amp; Notifications!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/january-2023">2023 Jan: Character, Weather, Console!</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/fr/blog/december-2022">2022 Dec: One VM to Rule Them All!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/november-2022">2022 Nov: Entity System, UDS &amp; UE5.1!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/october-2022">2022 Oct: Playtest &amp; Big API Refactor!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/september-2022">2022 Sep: Dimensions!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/august-2022">2022 Aug: API, Auto Docs &amp; More!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/july-2022">2022 Jul: CEF, Settings Menu &amp; Improvs!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/june-2022">2022 Jun: Birthday, Rebrand &amp; UI Redesign!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/may-2022">2022 May: 666 Bugs Fixed &amp; P2P!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/avril-2022">2022 Apr: Now on Unreal Engine 5!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/mars-2022">2022 Mar: Steam, Database &amp; Blueprints!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/february-2022">2022 Feb: UE5 &amp; Network Authority!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/janvier-2022">2022 Jan: Store &amp; Vault!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/november-2021">2021 Nov: Unreal Engine 5?</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/alpha publié">2021 Oct: Alpha released!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/weapons-improvements">Blog Bonus : Amélioration des Armes !</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/sandbox-improvements">2021 Sep: Sandbox Improvements!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/Alpha">2021 Aug: Coming to Alpha!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/new-docs">Documentation retravaillée</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/sandbox">Mise à jour du Sandbox</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/vault">Mise à jour du Vault</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/eau">Mise à jour de l&#x27;eau</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/les véhicules">Mise à jour des véhicules</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fr/blog/halloween">Halloween</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://docs.nanos.world/fr/img/blog/2022-december/december-news.webp"><header><h1 class="title_f1Hy" itemprop="headline">2022 Dec: One VM to Rule Them All!</h1><div class="container_mt6G margin-vert--md"><time datetime="2023-01-04T00:00:00.000Z" itemprop="datePublished">4 janvier 2023</time> · <!-- -->9 minutes de lecture</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/gtnardy" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="/img/blog/gtnardy.jpg" alt="Gabriel T. Nardy"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/gtnardy" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Gabriel T. Nardy</span></a></div><small class="avatar__subtitle" itemprop="description">nanos world developer (SyedMuhammad)</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p><strong>Une machine virtuelle Lua à la tête de tous !</strong></p><p><img loading="lazy" src="/fr/assets/images/december-news-d3aff08ec5aef08f0426ecb558a5de57.webp" width="800" height="320" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="une-seule-machine-virtuelle">Une Seule Machine Virtuelle<a href="#une-seule-machine-virtuelle" class="hash-link" aria-label="Direct link to Une Seule Machine Virtuelle" title="Direct link to Une Seule Machine Virtuelle">​</a></h2><p>Après beaucoup d&#x27;analyse, d&#x27;étude et de refactorisation. Je suis heureux de vous présenter la nouvelle façon dont les paquets fonctionneront ! Cela était fortement motivé par le manque de possibilité de créer des extensions ou des éléments personnalisés de manière simple.</p><p><img loading="lazy" src="/fr/assets/images/lua-vm-rule-e8974a9f5c70024e791f77fd541d4585.webp" width="976" height="549" class="img_ev3q"></p><p>En plus de la dernière nouvelle mise à jour du système d&#x27;entités, ce changement va fortement ajouter aux possibilités de modding &amp; capacités de script à nanos world !</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Ces changements sont censés avoir le moins d&#x27;impact possible et de changements cassés. Tous les tests que j&#x27;ai faits jusqu&#x27;à présent ont assuré que Tous est toujours rétrocompatible !</p></div></div><p>Jusqu&#x27;à présent, nous avons eu une VM (Machine Virtuelle - ou <code>lua_State</code>) créée par paquet. Cela a fait que chaque paquet est complètement isolé les uns des autres. Il était donc nécessaire de créer des mécanismes de communication entre les Paquets, tels que <strong>Événements</strong> et <strong>Paquetage. xport/Package.Call</strong> méthodes, ce qui permettait (dans une manière limitée) aux paquets de communiquer entre eux.</p><p>Mais comme cela a été mentionné, cela a entraîné de nombreuses limitations, comme il n&#x27;était pas possible pour les paquets d&#x27;accéder à des variables ou d&#x27;appeler des fonctions directement à partir d&#x27;autres paquets, ou encore pire (qui devient plus évidente depuis la dernière mise à jour de Entity System): Il n&#x27;était pas possible de partager des classes personnalisées entre les paquets !</p><p>Cependant maintenant tout cela sera résolu ! J&#x27;ai retravaillé l&#x27;ensemble du système de script interne, et maintenant au lieu d&#x27;avoir une nouvelle machine virtuelle par paquet, nous aurons un environnement virtuel en bac à sable (en utilisant la fonctionnalité <code>_ENV</code> de l&#x27;environnement Lua), en séparant la portée de chaque paquet, mais en leur permettant d&#x27;accéder à un environnement global partagé !</p><p>Cela permettra aux Paquets de définir des classes, d&#x27;exposer des fonctions et de partager des bibliothèques globalement ! Pour que tout le monde puisse l&#x27;utiliser sans avoir besoin de mécanismes de contournement pour le faire!</p><p>Maintenant, par exemple, vous pouvez simplement charger des scripts supplémentaires ensemble le mode de jeu <code>sandbox</code> qui charge des classes personnalisées d&#x27;outils ou d&#x27;armes, et ceux-ci apparaîtront automatiquement dans le menu d&#x27;apparition, plus besoin de les ajouter manuellement !</p><p>Chaque paquet aura toujours son propre environnement sous-global, donc la définition de variables ou de fonctions globales ne les rendra pas disponibles immédiatement pour les autres paquets.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="call--export">Call &amp; Export<a href="#call--export" class="hash-link" aria-label="Direct link to Call &amp; Export" title="Direct link to Call &amp; Export">​</a></h3><p><code>Package.Call</code> et <code>Package.Export</code> ne sont plus nécessaires de la manière traditionnelle. Comme maintenant, nous pouvons partager l&#x27;environnement global, nous pouvons définir des méthodes et les exposer à être appelées directement, sans avoir besoin de les <code>Package.Call</code>.</p><p>Le <code>Package.Export</code> existera toujours et fonctionnera de la même façon. Mais maintenant il sera possible de &quot;exposer&quot; n&#x27;importe quelle valeur à la portée mondiale ! Exemple :</p><div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_Ktv7">package-01/Server/Index.lua</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">local</span><span class="token plain"> my_table </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">123</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">456</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">DoSomething</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">var1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> var1 </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">123</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Package</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">Export</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;MyTable&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> my_table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Package</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">Export</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;DoSomething&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> DoSomething</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code dans le presse-papier" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_Ktv7">package-02/Server/Index.lua</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">Console</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">Log</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">MyTable</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">-- 123</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Console</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">Log</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">DoSomething</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">456</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">-- 579</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code dans le presse-papier" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="classes-héritées">Classes Héritées<a href="#classes-héritées" class="hash-link" aria-label="Direct link to Classes Héritées" title="Direct link to Classes Héritées">​</a></h3><p>Maintenant, toutes les classes héritées seront disponibles pour tous les paquets, car elles seront créées et exposées au périmètre global automatiquement.</p><p>Le premier paramètre sera maintenant utilisé comme nom de variable pour définir la classe dans la portée globale. De plus, il vient juste d&#x27;avoir un nouveau paramètre optionnel pour définir une table personnalisée contenant des valeurs à définir dans la table de classe avant sa création :</p><div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">-- Notez que nous assignons le retour de Inherit à une variable appelée</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">-- MyPropClassLocal, mais aussi MyPropClass sera défini globalement</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">-- comme étant notre classe, les deux variables pointent vers la même table de classes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">MyPropClassLocal </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> Prop</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">Inherit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;MyPropClass&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;my_custom_value&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">123</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;my_another_value&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;hello&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">local</span><span class="token plain"> val </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> MyPropClass</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">my_custom_value</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">-- val == 123</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code dans le presse-papier" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Nous avons également ajouté un nouvel événement statique pour obtenir quand une nouvelle classe héritée est enregistrée: <code>ClassRegister</code>:</p><div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">Prop</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">Subscribe</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;ClassRegister&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">function</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">class</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">-- Faire quelque chose avec la nouvelle classe</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">end</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code dans le presse-papier" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="library-package-type">Library Package Type<a href="#library-package-type" class="hash-link" aria-label="Direct link to Library Package Type" title="Direct link to Library Package Type">​</a></h3><p>Avec cette nouvelle façon de travailler sur les paquets, les <code>library</code> ne sont plus nécessaires. Comme maintenant, nous pouvons communiquer directement avec d&#x27;autres paquets avec des méthodes globales exposées, nous pouvons simplement définir les méthodes à exporter avec le paquet <code>Package.Export</code> et les utiliser quand nous le voulons.</p><p>De cette façon, nous n&#x27;aurons seulement deux types de &quot;lua script&quot; Packages: <code>game-mode</code> et <code>script</code>. Tous les paquets <code>library</code> existants seront automatiquement convertis en <code>script</code> lorsqu&#x27;ils seront chargés.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="requirepackage">RequirePackage<a href="#requirepackage" class="hash-link" aria-label="Direct link to RequirePackage" title="Direct link to RequirePackage">​</a></h3><p>Par conséquent, <code>Package.RequirePackage</code> deviendra également inutile. Comme nous pouvons maintenant réutiliser le même script globalement, cette méthode sera dépréciée en faveur de l&#x27;ajout de votre paquet dans la liste <code>package_dependencies</code> de votre Package.toml.</p><p><em>Le paquet nécessitant</em> le <code>nanos-world-vehicles</code> et <code>nanos-world-weapons</code> par défaut les chargera comme un paquet autonome, comme maintenant ils <strong>exportent</strong> les tables <code>NanosWorldWeapons</code> et <code>NanosWorldVehicles</code> globalement.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="paramètres-de-gamemode">Paramètres de GameMode<a href="#paramètres-de-gamemode" class="hash-link" aria-label="Direct link to Paramètres de GameMode" title="Direct link to Paramètres de GameMode">​</a></h2><p>Nous introduisons le concept de paramètres personnalisés pour les modes de jeu! Ces paramètres peuvent être définis dans <strong>Package.toml</strong> comme ça:</p><div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"># game-mode custom settings configurations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token table class-name" style="color:rgb(38, 127, 153)">custom_settings</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token key property">my_toggle</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token key property">label</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;enable PVP&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token key property">type</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;boolean&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token key property">description</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;whether to enable PVP or not&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token key property">default</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token key property">my_text_input</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token key property">label</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;type anything&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token key property">type</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;text&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token key property">description</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;custom text!&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token key property">default</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;hello world!&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code dans le presse-papier" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Ces paramètres peuvent être configurés à travers les arguments du serveur <code>--custom_settings &quot;my_toggle = true, my_text_input = &#x27;awesome text!&#x27;, . .&quot;</code>, ou à travers l&#x27;écran Nouveau jeu, qui analyse et affiche la configuration de façon dynamique lors de la création d&#x27;un nouveau jeu:</p><p><img loading="lazy" src="/fr/assets/images/new-game-settings-0add9142b13bcdc2ae0a7c7c5003bbb5.webp" width="1913" height="1025" class="img_ev3q"></p><p>Les valeurs définies sont accessibles via la nouvelle méthode <code>Server.GetCustomSettings()</code>.</p><p>Veuillez vous référer à la <a href="https://docs.nanos.world/docs/next/core-concepts/packages/packages-guide#custom-settings" target="_blank" rel="noopener noreferrer">page de documentation</a> mise à jour pour plus d&#x27;informations.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-files">Configuration Files<a href="#configuration-files" class="hash-link" aria-label="Direct link to Configuration Files" title="Direct link to Configuration Files">​</a></h2><p>Comme annoncé sur les blogs précédents, le format des fichiers de configuration change dans la prochaine mise à jour !</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Tous les <strong>Package.toml</strong> et <strong>Assets.toml</strong> dans l&#x27;ancien format s&#x27;auto-convertira automatiquement au nouveau format dès qu&#x27;ils se chargeront pour la première fois.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="meta-block">Meta Block<a href="#meta-block" class="hash-link" aria-label="Direct link to Meta Block" title="Direct link to Meta Block">​</a></h3><p>Maintenant nous avons un nouvel en-tête commun parmi tous les <strong>Assets.toml</strong> et <strong>Package.toml</strong>: <code>[meta]</code>.</p><p>Il aura le format suivant, qui sera utilisé pour définir les configurations générales principalement utilisées par le magasin :</p><div><div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_Ktv7">_meta.toml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">loading</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code dans le presse-papier" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/nanos-world/nanos-world-server/blob/main/_meta.toml" target="_blank">See full example on GitHub</a></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="package">Package<a href="#package" class="hash-link" aria-label="Direct link to Package" title="Direct link to Package">​</a></h3><p>Pour les paquets, nous aurons un nouveau format pour différencier leurs types. Chaque type de paquet aura un bloc de configuration indépendant et différent. Maintenant le type de paquet sera déterminé en définissant un bloc <code>[game_mode]</code>, <code>[script]</code> ou <code>[loading-screen]</code>.</p><p>Voici à quoi ressemblera un Package.toml de gamemode :</p><div><div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_Ktv7">_game_mode.toml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">loading</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code dans le presse-papier" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="font-size:.9em;font-weight:600;color:#0E75DD;text-align:center;padding-bottom:13px;text-decoration:underline"><a href="https://github.com/nanos-world/nanos-world-server/blob/main/_game_mode.toml" target="_blank">See full example on GitHub</a></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-dimages">Configuration d&#x27;Images<a href="#configuration-dimages" class="hash-link" aria-label="Direct link to Configuration d&#x27;Images" title="Direct link to Configuration d&#x27;Images">​</a></h2><p>Comme vous l&#x27;avez peut-être remarqué, il n&#x27;y a plus de réglage <code>image</code> sur le <strong>Package.toml</strong>, il en va de même pour <strong>Assets.toml</strong> et pour l&#x27;image du serveur dans le <strong>Config.toml</strong>.</p><p>Maintenant, les images doivent être placées physiquement à côté du fichier <strong>.toml</strong> avec le nom <code>Package.jpg</code>, <code>Assets.jpg</code> ou <code>Server.jpg</code>.</p><p>Il s&#x27;agit d&#x27;une standardisation pour résoudre l&#x27;incohérence de l&#x27;image entre le magasin et le fichier de configuration, ainsi que pour éviter que des liens externes et malveillants soient placés là-bas. Mais cela apporte l&#x27;inconvénient que seuls les serveurs dédiés peuvent désormais afficher une image sur la Liste des Serveurs.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nouvelles-classes-statiques">Nouvelles classes statiques<a href="#nouvelles-classes-statiques" class="hash-link" aria-label="Direct link to Nouvelles classes statiques" title="Direct link to Nouvelles classes statiques">​</a></h2><p>Enfin, nous sommes en train de sortir la mise à jour avec toutes les refactorisations de la classe statique ! Cela nous donnera une excellente nouvelle organisation pour trouver des choses dans la documentation, car maintenant des méthodes spécifiques seront regroupées en classes avec des noms qui ont du sens !</p><p>Liste de toutes les nouvelles classes statiques:</p><ul><li><a href="https://docs.nanos.world/docs/next/scripting-reference/static-classes/chat" target="_blank" rel="noopener noreferrer">💬 Chat</a></li><li><a href="https://docs.nanos.world/docs/next/scripting-reference/static-classes/console" target="_blank" rel="noopener noreferrer">🔤 Console</a></li><li><a href="https://docs.nanos.world/docs/next/scripting-reference/static-classes/debug" target="_blank" rel="noopener noreferrer">🐛 Debug</a></li><li><a href="https://docs.nanos.world/docs/next/scripting-reference/static-classes/discord" target="_blank" rel="noopener noreferrer">☎️ Discord</a></li><li><a href="https://docs.nanos.world/docs/next/scripting-reference/static-classes/level" target="_blank" rel="noopener noreferrer">🏝️ Level</a></li><li><a href="https://docs.nanos.world/docs/next/scripting-reference/static-classes/navigation" target="_blank" rel="noopener noreferrer">🚢 Navigation</a></li><li><a href="https://docs.nanos.world/docs/next/scripting-reference/static-classes/postprocess" target="_blank" rel="noopener noreferrer">🖼️ PostProcess</a></li><li><a href="https://docs.nanos.world/docs/next/scripting-reference/static-classes/sky" target="_blank" rel="noopener noreferrer">🌅 Sky</a></li><li><a href="https://docs.nanos.world/docs/next/scripting-reference/static-classes/steam" target="_blank" rel="noopener noreferrer">🎮 Steam</a></li><li><a href="https://docs.nanos.world/docs/next/scripting-reference/static-classes/trace" target="_blank" rel="noopener noreferrer">🔍 Trace</a></li><li><a href="https://docs.nanos.world/docs/next/scripting-reference/static-classes/viewport" target="_blank" rel="noopener noreferrer">📺 Viewport</a></li></ul><p>Aussi, <a href="https://docs.nanos.world/docs/next/scripting-reference/static-classes/input" target="_blank" rel="noopener noreferrer">🕹️ Entry</a> a reçu un tas de nouvelles méthodes et d&#x27;événements de la part du client.</p><p>Beaucoup des méthodes de <a href="https://docs.nanos.world/docs/next/scripting-reference/static-classes/client" target="_blank" rel="noopener noreferrer">⌨️ Client</a> et l&#x27;ancien <strong>🌍 Monde</strong> ont été migrés vers ces classes ! Consultez leurs pages pour obtenir des informations précises !</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="événements-renommés">Événements renommés<a href="#événements-renommés" class="hash-link" aria-label="Direct link to Événements renommés" title="Direct link to Événements renommés">​</a></h2><p>En raison de notre dernier sondage, nous commençons à changer tous les noms d&#x27;événements qui avaient des noms erronés. Nous les normalisons au niveau actuel, de sorte que des événements comme <code>CharacterEntered</code> seront renommés en <code>CharacterEnter</code> par exemple.</p><p>Toutes les modifications maintiendront l&#x27;ancien événement fonctionnant comme obsolète. Veuillez faire attention aux nouveaux avertissements pour les mettre à jour vers la nouvelle version !</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="assets-plugin-content">Assets Plugin Content<a href="#assets-plugin-content" class="hash-link" aria-label="Direct link to Assets Plugin Content" title="Direct link to Assets Plugin Content">​</a></h2><p>Maintenant, il est possible de créer des Asset Packs à partir du Plugin content, ce sera la meilleur façon pour créer des contents à partir de maintenant car il empêche les chemins des assets d&#x27;entrer en collision avec les autres.</p><p>Pour cela, nous avons ajouté un nouveau paramètre dans <strong>Assets.toml</strong> pour définir si le Pack d&#x27;actifs est un contenu de plugin : <code>is_plugin_content</code>.</p><p>Veuillez vous référer à la <a href="https://docs.nanos.world/docs/next/assets-modding/creating-assets/importing-assets" target="_blank" rel="noopener noreferrer">page de documentation</a> mise à jour pour plus d&#x27;informations.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="améliorations-du-magasin">Améliorations du magasin<a href="#améliorations-du-magasin" class="hash-link" aria-label="Direct link to Améliorations du magasin" title="Direct link to Améliorations du magasin">​</a></h2><p>Le mois dernier, MegaThorx a lancé une mise à jour du magasin, qui améliore considérablement le flux de téléchargement de nouvelles versions. Maintenant nous avons une barre de progression, ainsi que des scripts spéciaux pour vérifier les erreurs de syntaxe et les problèmes potentiels. D&#x27;autres fonctionnalités seront également ajoutées dans le futur !</p><p><img loading="lazy" src="/fr/assets/images/store-upload-7208f6af355be0579784ecfc8e66ff8f.webp" width="1259" height="723" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2><p>Je n&#x27;étais pas très satisfait de la façon dont nanos monde gérait les possibilités de modding et de scripting. Il se sentait très limité et non naturel la façon dont les scripteurs devaient faire pour faire des paquets pour communiquer entre eux. Il ne permettait pas beaucoup de personnalisation ou d&#x27;extensibilité.</p><p>Avec le <a href="https://docs.nanos.world/docs/next/core-concepts/scripting/inheriting-classes" target="_blank" rel="noopener noreferrer">système d&#x27;entités du mois dernier</a> et maintenant avec cette modification de la façon dont les paquets fonctionnent, J&#x27;ai le sentiment qu&#x27;une grande porte de possibilités vient de s&#x27;ouvrir encore davantage, ce qui donnera une bonne inspiration aux nouvelles choses à ajouter!</p><p>Un excellent exemple de ce qui est maintenant possible est de créer un paquet de <code>script</code> vide avec une Arme spéciale personnalisée héritée et il suffit de charger le mode de jeu Sandbox avec votre script pour le faire apparaître dans le menu Apparition, sans besoin d&#x27;aucun appel spécial ou de contournement ! Ceci est énorme et lie tous les nœuds restants! 🥳</p><p>Ce changement à une seule VM a été un grand changement, au début, je pensais que cela ne fonctionnait pas. mais après avoir terminé et effectué des tests j&#x27;ai été très surpris et heureux des résultats! Maintenant nous devons affiner et l&#x27;améliorer encore plus!</p><p>Le modding va brrr!! Merci pour le soutien ! See you next month! 💪💪</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/fr/blog/tags/updates">updates</a></li></ul></div><div class="col margin-top--sm"><a href="https://crowdin.com/project/nanos-world-docs/fr" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Modifier cette page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Navigation des pages du post"><a class="pagination-nav__link pagination-nav__link--prev" href="/fr/blog/january-2023"><div class="pagination-nav__sublabel">Nouvelle publication</div><div class="pagination-nav__label">2023 Jan: Character, Weather, Console!</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/fr/blog/november-2022"><div class="pagination-nav__sublabel">Ancienne publication</div><div class="pagination-nav__label">2022 Nov: Entity System, UDS &amp; UE5.1!</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#une-seule-machine-virtuelle" class="table-of-contents__link toc-highlight">Une Seule Machine Virtuelle</a><ul><li><a href="#call--export" class="table-of-contents__link toc-highlight">Call &amp; Export</a></li><li><a href="#classes-héritées" class="table-of-contents__link toc-highlight">Classes Héritées</a></li><li><a href="#library-package-type" class="table-of-contents__link toc-highlight">Library Package Type</a></li><li><a href="#requirepackage" class="table-of-contents__link toc-highlight">RequirePackage</a></li></ul></li><li><a href="#paramètres-de-gamemode" class="table-of-contents__link toc-highlight">Paramètres de GameMode</a></li><li><a href="#configuration-files" class="table-of-contents__link toc-highlight">Configuration Files</a><ul><li><a href="#meta-block" class="table-of-contents__link toc-highlight">Meta Block</a></li><li><a href="#package" class="table-of-contents__link toc-highlight">Package</a></li></ul></li><li><a href="#configuration-dimages" class="table-of-contents__link toc-highlight">Configuration d&#39;Images</a></li><li><a href="#nouvelles-classes-statiques" class="table-of-contents__link toc-highlight">Nouvelles classes statiques</a></li><li><a href="#événements-renommés" class="table-of-contents__link toc-highlight">Événements renommés</a></li><li><a href="#assets-plugin-content" class="table-of-contents__link toc-highlight">Assets Plugin Content</a></li><li><a href="#améliorations-du-magasin" class="table-of-contents__link toc-highlight">Améliorations du magasin</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></div></div>
<script src="/fr/assets/js/runtime~main.ea1961c1.js"></script>
<script src="/fr/assets/js/main.02c816f5.js"></script>
</body>
</html>