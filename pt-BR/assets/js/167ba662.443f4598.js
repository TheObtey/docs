"use strict";(self.webpackChunkdocs_docusaurus=self.webpackChunkdocs_docusaurus||[]).push([[8020],{99863:(e,a,r)=>{r.r(a),r.d(a,{assets:()=>d,contentTitle:()=>o,default:()=>g,frontMatter:()=>t,metadata:()=>i,toc:()=>c});var n=r(85893),s=r(11151);const t={title:"Tela de carregamento",description:"Tela de carregamento personalizada para seus servidores",sidebar_position:1,tags:["script","ui","webui","packages"],keywords:["loading","screen","package","html","webui"]},o=void 0,i={id:"core-concepts/packages/loading-screen",title:"Tela de carregamento",description:"Tela de carregamento personalizada para seus servidores",source:"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/core-concepts/packages/loading-screen.md",sourceDirName:"core-concepts/packages",slug:"/core-concepts/packages/loading-screen",permalink:"/pt-BR/docs/next/core-concepts/packages/loading-screen",draft:!1,unlisted:!1,editUrl:"https://crowdin.com/project/nanos-world-docs/pt-BR",tags:[{label:"script",permalink:"/pt-BR/docs/next/tags/script"},{label:"ui",permalink:"/pt-BR/docs/next/tags/ui"},{label:"webui",permalink:"/pt-BR/docs/next/tags/webui"},{label:"packages",permalink:"/pt-BR/docs/next/tags/packages"}],version:"current",sidebarPosition:1,frontMatter:{title:"Tela de carregamento",description:"Tela de carregamento personalizada para seus servidores",sidebar_position:1,tags:["script","ui","webui","packages"],keywords:["loading","screen","package","html","webui"]},sidebar:"main",previous:{title:"Guia de pacotes",permalink:"/pt-BR/docs/next/core-concepts/packages/packages-guide"},next:{title:"Compatibility Versions",permalink:"/pt-BR/docs/next/core-concepts/packages/compatibility-versions"}},d={},c=[{value:"Criando uma tela de carregamento",id:"criando-uma-tela-de-carregamento",level:2},{value:"Obtendo Carregamento/Download em Progresso",id:"obtendo-carregamentodownload-em-progresso",level:3},{value:"Evento <code>Atualiza\xe7\xe3o da tela</code>",id:"evento-atualiza\xe7\xe3o-da-tela",level:4},{value:"Player Information",id:"player-information",level:3},{value:"Stop Menu Music",id:"stop-menu-music",level:3},{value:"Configurar seu servidor para usar a tela de carregamento",id:"configurar-seu-servidor-para-usar-a-tela-de-carregamento",level:2}];function l(e){const a={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.p,{children:["In nanos world it is possible to add a customized and dynamic Loading Screen to your Server using ",(0,n.jsx)(a.a,{href:"/pt-BR/docs/next/scripting-reference/classes/webui",children:"WebUI"}),"."]}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{src:r(64489).Z+"",width:"1919",height:"1079"})}),"\n",(0,n.jsx)(a.h2,{id:"criando-uma-tela-de-carregamento",children:"Criando uma tela de carregamento"}),"\n",(0,n.jsxs)(a.p,{children:["Para isso, voc\xea precisar\xe1 criar um novo pacote do tipo ",(0,n.jsx)(a.a,{href:"#package-types",children:"carregando tela"}),", e adicione seus arquivos HTML/CSS/JS na pasta raiz do pacote. Seu arquivo HTML principal deve ser chamado de ",(0,n.jsx)(a.code,{children:"index.html"}),". Vai se parecer com isso:"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-folder-structure",children:"Packages/\n\u2514\u2500\u2500 my-loading-screen/\n    \u251c\u2500\u2500 Package.toml\n    \u251c\u2500\u2500 index.html\n    \u251c\u2500\u2500 style.css\n    \u2514\u2500\u2500 ...\n"})}),"\n",(0,n.jsx)(a.h3,{id:"obtendo-carregamentodownload-em-progresso",children:"Obtendo Carregamento/Download em Progresso"}),"\n",(0,n.jsxs)(a.p,{children:["Para ser capaz de exibir informa\xe7\xf5es din\xe2micas na tela, voc\xea pode ouvir o evento ",(0,n.jsx)(a.code,{children:"Atualiza\xe7\xe3o de tela"})," (que ir\xe1 acionar a cada alguns ms):"]}),"\n",(0,n.jsxs)(a.h4,{id:"evento-atualiza\xe7\xe3o-da-tela",children:["Evento ",(0,n.jsx)(a.code,{children:"Atualiza\xe7\xe3o da tela"})]}),"\n",(0,n.jsxs)(a.table,{children:[(0,n.jsx)(a.thead,{children:(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.th,{style:{textAlign:"left"},children:"Parameter"}),(0,n.jsx)(a.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsxs)(a.tbody,{children:[(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{style:{textAlign:"left"},children:(0,n.jsx)(a.strong,{children:(0,n.jsx)(a.code,{children:"Mensagem"})})}),(0,n.jsx)(a.td,{style:{textAlign:"left"},children:"Exibir o estado atual (carregando, validando, baixando...)"})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{style:{textAlign:"left"},children:(0,n.jsx)(a.strong,{children:(0,n.jsx)(a.code,{children:"mensagem_secund\xe1ria"})})}),(0,n.jsx)(a.td,{style:{textAlign:"left"},children:"Exibir o arquivo/conte\xfado atual a ser carregado ou baixado"})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{style:{textAlign:"left"},children:(0,n.jsx)(a.strong,{children:(0,n.jsx)(a.code,{children:"progresso_pequeno"})})}),(0,n.jsx)(a.td,{style:{textAlign:"left"},children:"Progresso pequeno atual"})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{style:{textAlign:"left"},children:(0,n.jsx)(a.strong,{children:(0,n.jsx)(a.code,{children:"progresso_pequeno_total"})})}),(0,n.jsx)(a.td,{style:{textAlign:"left"},children:"Progresso m\xe1ximo pequeno"})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{style:{textAlign:"left"},children:(0,n.jsx)(a.strong,{children:(0,n.jsx)(a.code,{children:"Progresso"})})}),(0,n.jsx)(a.td,{style:{textAlign:"left"},children:"Progresso atual"})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{style:{textAlign:"left"},children:(0,n.jsx)(a.strong,{children:(0,n.jsx)(a.code,{children:"progresso_total"})})}),(0,n.jsx)(a.td,{style:{textAlign:"left"},children:"Valor m\xe1ximo do progresso"})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{style:{textAlign:"left"},children:(0,n.jsx)(a.strong,{children:(0,n.jsx)(a.code,{children:"est\xe1gio_atual"})})}),(0,n.jsxs)(a.td,{style:{textAlign:"left"},children:["A etapa atual da carga (",(0,n.jsx)(a.code,{children:"carregando"}),", ",(0,n.jsx)(a.code,{children:"baixando"}),")"]})]})]})]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-javascript",metastring:'title="Packages/my-loading-screen/index.js"',children:'Events.Subscribe("UpdateScreen", function(mensagem, message_secondary, progress_small, progress_small_total, progress, progress_total, current_stage) {\n    // Atualize seu HTML aqui\n});\n'})}),"\n",(0,n.jsx)(a.admonition,{type:"tip",children:(0,n.jsxs)(a.p,{children:["You can use ",(0,n.jsx)(a.strong,{children:(0,n.jsx)(a.code,{children:"progress"})})," and ",(0,n.jsx)(a.strong,{children:(0,n.jsx)(a.code,{children:"progress_total"})})," for filling up the main loading bar, and ",(0,n.jsx)(a.strong,{children:(0,n.jsx)(a.code,{children:"progress_small"})})," for a small/sub loading bar."]})}),"\n",(0,n.jsx)(a.admonition,{type:"info",children:(0,n.jsxs)(a.p,{children:["Sempre usar ",(0,n.jsx)(a.code,{children:"de progresso / progress_total"})," para obter a porcentagem atual ",(0,n.jsx)(a.code,{children:"%"})," , como progresso_total pode representar a quantidade total de arquivos que est\xe3o sendo baixados, por exemplo."]})}),"\n",(0,n.jsx)(a.h3,{id:"player-information",children:"Player Information"}),"\n",(0,n.jsx)(a.p,{children:"Al\xe9m disso, \xe9 poss\xedvel buscar informa\xe7\xf5es do jogador acessando uma vari\xe1vel global chamada LoadingScreen:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-javascript",children:"var LoadingScreen = {\n  server_ip,\n  server_name,\n  server_description,\n  server_port,\n  player_nanos_id,\n  player_nanos_username\n};\n"})}),"\n",(0,n.jsx)(a.h3,{id:"stop-menu-music",children:"Stop Menu Music"}),"\n",(0,n.jsx)(a.p,{children:"It is possible to turn off the built-in menu music by calling an event from Loading Screen JS:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-javascript",metastring:'title="Packages/my-loading-screen/index.js"',children:'Events.Call("StopMenuMusic")\n'})}),"\n",(0,n.jsx)(a.h2,{id:"configurar-seu-servidor-para-usar-a-tela-de-carregamento",children:"Configurar seu servidor para usar a tela de carregamento"}),"\n",(0,n.jsxs)(a.p,{children:["After creating your loading-screen package, you will need to configure your server to load it in your ",(0,n.jsx)(a.a,{href:"/pt-BR/docs/next/core-concepts/server-manual/server-configuration#server-configuration-file",children:"Config.toml"}),". Basta definir a configura\xe7\xe3o ",(0,n.jsx)(a.code,{children:"loading_screen"})," para o nome da pasta do seu pacote."]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-toml",metastring:'title="Server/Config.toml"',children:'# pacote de carregamento da tela para carregar (a tela de carregamento ser\xe1 exibida quando os jogadores entrarem no servidor)\ncarregando_tela = "minha-carregando-tela"\n'})}),"\n",(0,n.jsxs)(a.p,{children:["Or start it with ",(0,n.jsx)(a.code,{children:'--loading_screen "my-loading-screen"'}),"."]})]})}function g(e={}){const{wrapper:a}={...(0,s.a)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},64489:(e,a,r)=>{r.d(a,{Z:()=>n});const n=r.p+"assets/images/loading-screen-cb28559615ffd1f2db10366c83d588a8.webp"},11151:(e,a,r)=>{r.d(a,{Z:()=>i,a:()=>o});var n=r(67294);const s={},t=n.createContext(s);function o(e){const a=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function i(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(t.Provider,{value:a},e.children)}}}]);