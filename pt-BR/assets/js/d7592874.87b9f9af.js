"use strict";(self.webpackChunkdocs_docusaurus=self.webpackChunkdocs_docusaurus||[]).push([[9495],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return c}});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),m=p(n),c=o,k=m["".concat(l,".").concat(c)]||m[c]||u[c]||r;return n?a.createElement(k,i(i({ref:t},d),{},{components:n})):a.createElement(k,i({ref:t},d))}));function c(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var p=2;p<r;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},33350:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return l},default:function(){return c},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return u}});var a=n(83117),o=n(80102),r=(n(67294),n(3905)),i=["components"],s={title:"Instala\xe7\xe3o do Servidor",description:"Criar servidores em nanos world \xe9 muito simple, apenas alguns passos e voc\xea tem seu servidor pronto e rodando!",sidebar_position:1,tags:["hospedagem"]},l=void 0,p={unversionedId:"core-concepts/server-manual/server-installation",id:"version-latest/core-concepts/server-manual/server-installation",title:"Instala\xe7\xe3o do Servidor",description:"Criar servidores em nanos world \xe9 muito simple, apenas alguns passos e voc\xea tem seu servidor pronto e rodando!",source:"@site/i18n/pt-BR/docusaurus-plugin-content-docs/version-latest/core-concepts/server-manual/server-installation.md",sourceDirName:"core-concepts/server-manual",slug:"/core-concepts/server-manual/server-installation",permalink:"/pt-BR/docs/core-concepts/server-manual/server-installation",draft:!1,editUrl:"https://github.com/nanos-world/docs/edit/master/versioned_docs/version-latest/core-concepts/server-manual/server-installation.md",tags:[{label:"hospedagem",permalink:"/pt-BR/docs/tags/hospedagem"}],version:"latest",sidebarPosition:1,frontMatter:{title:"Instala\xe7\xe3o do Servidor",description:"Criar servidores em nanos world \xe9 muito simple, apenas alguns passos e voc\xea tem seu servidor pronto e rodando!",sidebar_position:1,tags:["hospedagem"]},sidebar:"version-latest/main",previous:{title:"Game-Modes & Packages",permalink:"/pt-BR/docs/getting-started/game-modes-and-packages"},next:{title:"Configura\xe7\xe3o Servidor",permalink:"/pt-BR/docs/core-concepts/server-manual/server-configuration"}},d={},u=[{value:"Requisitos do Sistema",id:"requisitos-do-sistema",level:2},{value:"Installing (Linux and Windows)",id:"installing-linux-and-windows",level:2},{value:"1. Run SteamCMD",id:"1-run-steamcmd",level:3},{value:"2. Specify an installation directory",id:"2-specify-an-installation-directory",level:3},{value:"3. Login",id:"3-login",level:3},{value:"4. Download nanos world Server",id:"4-download-nanos-world-server",level:3},{value:"Running on Linux",id:"running-on-linux",level:2},{value:"Automated Installation",id:"automated-installation",level:2},{value:"Installing bleeding-edge version",id:"installing-bleeding-edge-version",level:2},{value:"Linux Debian 10 Installation",id:"linux-debian-10-installation",level:2},{value:"Linux ARM (raspberry &amp; more)",id:"linux-arm-raspberry--more",level:2},{value:"Box86",id:"box86",level:3},{value:"Box64",id:"box64",level:3},{value:"Steam &amp; Server",id:"steam--server",level:3}],m={toc:u};function c(e){var t=e.components,n=(0,o.Z)(e,i);return(0,r.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Criar servidores em nanos world \xe9 muito simple, apenas alguns passos e voc\xea tem seu servidor pronto e rodando!"),(0,r.kt)("h2",{id:"requisitos-do-sistema"},"Requisitos do Sistema"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"SO: Windows ou Linux"),(0,r.kt)("li",{parentName:"ul"},"Processor: ",(0,r.kt)("inlineCode",{parentName:"li"},"1.0 GHz")," (Faster core is better than multiple cores)"),(0,r.kt)("li",{parentName:"ul"},"Memory: ",(0,r.kt)("inlineCode",{parentName:"li"},"50 MB")," (grows if having too many Players or spawned Entities)"),(0,r.kt)("li",{parentName:"ul"},"Storage: ",(0,r.kt)("inlineCode",{parentName:"li"},"10 MB")," (+ Assets & Packages size)"),(0,r.kt)("li",{parentName:"ul"},"Network: Recommended at least ",(0,r.kt)("inlineCode",{parentName:"li"},"1 MB/s")," (grows if having too many Players or spawned Entities)"),(0,r.kt)("li",{parentName:"ul"},"Network Forwarded Ports: ",(0,r.kt)("inlineCode",{parentName:"li"},"7777 TCP/UDP")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"7778 UDP")," (you can change that in the Config)")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"The default installation of nanos world already contains the server executable, you can find it at ",(0,r.kt)("inlineCode",{parentName:"p"},"nanos-world/Server/NanosWorldServer.exe"),". You can use this one to create your custom Packages as it seamlessly integrates with New Game menu screen!")),(0,r.kt)("h2",{id:"installing-linux-and-windows"},"Installing (Linux and Windows)"),(0,r.kt)("p",null,"nanos world servers are downloaded through SteamCMD, a command line version of Steam. Please ",(0,r.kt)("a",{parentName:"p",href:"https://developer.valvesoftware.com/wiki/SteamCMD#Downloading_SteamCMD"},"download it")," before proceeding."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"If you are on Linux Ubuntu/Debian machine, you can easily install it like that:"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"sudo add-apt-repository multiverse\nsudo dpkg --add-architecture i386\nsudo apt update\nsudo apt install lib32gcc1 steamcmd \n"))),(0,r.kt)("h3",{id:"1-run-steamcmd"},"1. Run SteamCMD"),(0,r.kt)("p",null,"After downloaded, run ",(0,r.kt)("inlineCode",{parentName:"p"},"steamcmd")," executable, it will update and you will enter it's console:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"Steam>\n")),(0,r.kt)("h3",{id:"2-specify-an-installation-directory"},"2. Specify an installation directory"),(0,r.kt)("p",null,"You can optionally define an installation folder to install nanos world server:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"Steam> force_install_dir c:\\nanos-world-server\\\n")),(0,r.kt)("h3",{id:"3-login"},"3. Login"),(0,r.kt)("p",null,"The next step is to login on SteamCMD, you can login anonymously with:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"Steam> login anonymous\n")),(0,r.kt)("h3",{id:"4-download-nanos-world-server"},"4. Download nanos world Server"),(0,r.kt)("p",null,"You can then install nanos world server using it's app id: ",(0,r.kt)("inlineCode",{parentName:"p"},"1936830"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"Steam> app_update 1936830\n")),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"You can run ",(0,r.kt)("inlineCode",{parentName:"p"},"app_update 1936830")," to update your nanos world server to the latest version as well!")),(0,r.kt)("p",null,"E voc\xea est\xe1 pronto! You can quit the console:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"Steam> quit\n")),(0,r.kt)("h2",{id:"running-on-linux"},"Running on Linux"),(0,r.kt)("p",null,"On Linux, you must start the server using the Shell Script ",(0,r.kt)("inlineCode",{parentName:"p"},"./NanosWorldServer.sh"),", which will configure proper paths and needed dynamic libraries which need to be loaded!"),(0,r.kt)("h2",{id:"automated-installation"},"Automated Installation"),(0,r.kt)("p",null,"You can optionally use a one-liner command to install/update nanos world server:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"steamcmd.exe +login anonymous +app_update 1936830 validate +quit\n")),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Conclu\xeddo!, agora voc\xea pode prosseguir para os pr\xf3ximos passos para configurar o seu servidor nanos world.")),(0,r.kt)("h2",{id:"installing-bleeding-edge-version"},"Installing bleeding-edge version"),(0,r.kt)("p",null,"To install the ",(0,r.kt)("inlineCode",{parentName:"p"},"bleeding-edge")," version of the server, you will need to specify it's branch when installing:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"Steam> app_update 1936830 -beta bleeding-edge\n")),(0,r.kt)("p",null,"or"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'steamcmd.exe +login anonymous +app_update "1936830 -beta bleeding-edge" validate +quit\n')),(0,r.kt)("h2",{id:"linux-debian-10-installation"},"Linux Debian 10 Installation"),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Follow this part if you have this kind of problem : ",(0,r.kt)("inlineCode",{parentName:"p"},"version GLIBCXX 3.4.26 not found"))),(0,r.kt)("p",null,"Para esta distribui\xe7\xe3o, alguns passos adicionais s\xe3o necess\xe1rios. Uma vez que o mundo nanos usa ",(0,r.kt)("inlineCode",{parentName:"p"},"gcc 9"),", precisaremos atualizar um do nosso pacote para o reposit\xf3rio de testes."),(0,r.kt)("p",null,"Primeiro, atualize seu arquivo de ",(0,r.kt)("inlineCode",{parentName:"p"},"sources.list")," ","(","localizado em: ",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/apt/sources. ist"),")",", voc\xea precisar\xe1 adicionar a fonte de reposit\xf3rio de teste, voc\xea pode adicionar essas linhas abaixo para as suas fontes:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"deb http://ftp.fr.debian.org/debian/ testing main contrib non-free\ndeb-src http://ftp.fr.debian.org/debian/ testing main contrib non-free\n")),(0,r.kt)("p",null,"Depois disso, precisamos criar um arquivo de ",(0,r.kt)("inlineCode",{parentName:"p"},"prefer\xeancias")," que dir\xe1 ao nosso sistema para n\xe3o preferir a instala\xe7\xe3o de um pacote de teste est\xe1vel a menos que especificado. Em ",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/apt/preferences")," ","(","criar se n\xe3o existir",")",", adicione estas linhas:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"Package: *\nPin: release a=stable\nPin-Priority: 700\n\nPackage: *\nPin: release a=testing\nPin-Priority: 650\n")),(0,r.kt)("p",null,"Agora, atualize seu servidor para ter certeza de que o sistema pode encontrar reposit\xf3rios de testes com este comando:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt update\n")),(0,r.kt)("p",null,"N\xf3s instalaremos ",(0,r.kt)("inlineCode",{parentName:"p"},"libstdc+6")," pacote de testes no servidor, isso permitir\xe1 que o servidor comece corretamente. Voc\xea pode digitar o comando abaixo para instal\xe1-lo:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get --target-release testing install libstdc++6\n")),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Conclu\xeddo!, agora voc\xea pode prosseguir para os pr\xf3ximos passos para configurar o seu servidor nanos world.")),(0,r.kt)("h2",{id:"linux-arm-raspberry--more"},"Linux ARM (raspberry & more)"),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"EXPERIMENTAL : Use at your own risk!, unstable")),(0,r.kt)("p",null,"Nanos world server is not officially supported on Arm, but if you really really really want your server to be running on arm platform such as a raspberry, rockpro64, ... then you can !"),(0,r.kt)("p",null,"We will need 2 emulators :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"box64 for Nanos World server : ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/ptitSeb/box64"},"https://github.com/ptitSeb/box64")),(0,r.kt)("li",{parentName:"ul"},"box86 for steam : ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/ptitSeb/box86"},"https://github.com/ptitSeb/box86"))),(0,r.kt)("p",null,"You must build & install these emulators on your board. box86 is optional if you don't want to use steamcmd to download & update the server"),(0,r.kt)("p",null,"Follow CAREFULLY the instructions on the emulators repository, commands are different in function of the board."),(0,r.kt)("p",null,"Example :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"RK3399 is for Pine64, RockPro64, Orange Pi, ...")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"These steps have been tested on Armbian Bullseye 64bits (aarch64) on a rockpro64. Some extra steps might be required for other boards & distros")),(0,r.kt)("h3",{id:"box86"},"Box86"),(0,r.kt)("p",null,"To install it, simply follow the instructions here: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ptitSeb/box86/blob/master/docs/COMPILE.md"},"https://github.com/ptitSeb/box86/blob/master/docs/COMPILE.md")),(0,r.kt)("p",null,"If for some reason, your system cannot find Box86 and you are on a 64bits os, run theses commands:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"sudo dpkg --add-architecture armhf\nsudo apt update\nsudo apt install libc6:armhf libncurses5:armhf libstdc++6:armhf\n")),(0,r.kt)("h3",{id:"box64"},"Box64"),(0,r.kt)("p",null,"Clone the repository, then we will need to replace the file ",(0,r.kt)("inlineCode",{parentName:"p"},"libstdc++.so.6")," inside the folder ",(0,r.kt)("inlineCode",{parentName:"p"},"x64lib"),". You will need a newer version of this file with at least ",(0,r.kt)("inlineCode",{parentName:"p"},"GLIBCXX v3.4.26"),". You can grab it inside an updated Linux distro such as Ubuntu 20.04, Debian 11. To check if the file has at least ",(0,r.kt)("inlineCode",{parentName:"p"},"GLIBCXX v3.4.26"),", use this command :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"strings libstdc++.so.6 | grep LIBCXX\n")),(0,r.kt)("p",null,"If it shows ",(0,r.kt)("inlineCode",{parentName:"p"},"GLIBCXX v3.4.26"),", you can put this file inside ",(0,r.kt)("inlineCode",{parentName:"p"},"x64lib")," folder."),(0,r.kt)("p",null,"You can now follow the rest of the instructions here (starting from ",(0,r.kt)("inlineCode",{parentName:"p"},"mkdir")," steps since you already cloned the repo): ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ptitSeb/box64/blob/main/docs/COMPILE.md"},"https://github.com/ptitSeb/box64/blob/main/docs/COMPILE.md")),(0,r.kt)("h3",{id:"steam--server"},"Steam & Server"),(0,r.kt)("p",null,"You have now installed the emulators, they should be able to auto-detect if a program needs a x86_64/x86 emulation or not."),(0,r.kt)("p",null,"Get steamcmd manually on a folder with this command :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'curl -sqL "https://steamcdn-a.akamaihd.net/client/installer/steamcmd_linux.tar.gz" | tar zxvf -\n')),(0,r.kt)("p",null,"You can now follow the basic instructions of nanos world Linux installation starting from steamcmd (run steamcmd with this command: ",(0,r.kt)("inlineCode",{parentName:"p"},"./steamcmd.sh"),")."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Conclu\xeddo!, agora voc\xea pode prosseguir para os pr\xf3ximos passos para configurar o seu servidor nanos world.")))}c.isMDXComponent=!0}}]);