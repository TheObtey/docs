"use strict";(self.webpackChunkdocs_docusaurus=self.webpackChunkdocs_docusaurus||[]).push([[1435],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var s=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},o=Object.keys(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=s.createContext({}),p=function(e){var t=s.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return s.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return s.createElement(s.Fragment,{},t)}},m=s.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,c=r(e,["components","mdxType","originalType","parentName"]),m=p(n),h=a,u=m["".concat(l,".").concat(h)]||m[h]||d[h]||o;return n?s.createElement(u,i(i({ref:t},c),{},{components:n})):s.createElement(u,i({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var r={};for(var l in t)hasOwnProperty.call(t,l)&&(r[l]=t[l]);r.originalType=e,r.mdxType="string"==typeof e?e:a,i[1]=r;for(var p=2;p<o;p++)i[p]=n[p];return s.createElement.apply(null,i)}return s.createElement.apply(null,n)}m.displayName="MDXCreateElement"},97423:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>r,toc:()=>p});var s=n(87462),a=(n(67294),n(3905));const o={title:"Weapons Meshes",description:"How to create your own Weapons",tags:["assets","weapons","skeletal-meshes"],keywords:["weapon","skeleton","unreal"]},i=void 0,r={unversionedId:"assets-modding/creating-assets/skeletal-meshes/weapons-meshes",id:"version-latest/assets-modding/creating-assets/skeletal-meshes/weapons-meshes",title:"Weapons Meshes",description:"How to create your own Weapons",source:"@site/versioned_docs/version-latest/assets-modding/creating-assets/skeletal-meshes/weapons-meshes.md",sourceDirName:"assets-modding/creating-assets/skeletal-meshes",slug:"/assets-modding/creating-assets/skeletal-meshes/weapons-meshes",permalink:"/docs/assets-modding/creating-assets/skeletal-meshes/weapons-meshes",draft:!1,editUrl:"https://github.com/nanos-world/docs/edit/master/versioned_docs/version-latest/assets-modding/creating-assets/skeletal-meshes/weapons-meshes.md",tags:[{label:"assets",permalink:"/docs/tags/assets"},{label:"weapons",permalink:"/docs/tags/weapons"},{label:"skeletal-meshes",permalink:"/docs/tags/skeletal-meshes"}],version:"latest",lastUpdatedBy:"Gabriel T. Nardy",lastUpdatedAt:1672836654,formattedLastUpdatedAt:"Jan 4, 2023",frontMatter:{title:"Weapons Meshes",description:"How to create your own Weapons",tags:["assets","weapons","skeletal-meshes"],keywords:["weapon","skeleton","unreal"]},sidebar:"version-latest/main",previous:{title:"Vehicles Meshes",permalink:"/docs/assets-modding/creating-assets/skeletal-meshes/vehicles-meshes"},next:{title:"Retargeting Animations",permalink:"/docs/assets-modding/creating-assets/animations/characters/retargeting-animations"}},l={},p=[{value:"Root Bone",id:"root-bone",level:2},{value:"Fixing Offsets, Scale &amp; Rotation",id:"fixing-offsets-scale--rotation",level:3},{value:"Custom Bone Sockets",id:"custom-bone-sockets",level:2},{value:"<code>muzzle</code>",id:"muzzle",level:3},{value:"<code>shell_eject</code>",id:"shell_eject",level:3},{value:"Fire Animation",id:"fire-animation",level:2},{value:"Exporting the Weapon",id:"exporting-the-weapon",level:2}],c={toc:p};function d(e){let{components:t,...o}=e;return(0,a.kt)("wrapper",(0,s.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"In nanos world, a Weapon is an entity which can be Picked Up by Characters and can have several settings tweaked to customize it. In this guide you will learn how to import custom Skeletal Meshes to create your own Weapon."),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(49101).Z,width:"1536",height:"891"})),(0,a.kt)("p",null,"Weapons use ",(0,a.kt)("a",{parentName:"p",href:"https://docs.unrealengine.com/4.26/en-US/WorkingWithContent/Types/SkeletalMeshes/"},"Skeletal Meshes"),". The Skeletal Mesh must point towards the Red Axis (X) to be properly rotated."),(0,a.kt)("h2",{id:"root-bone"},"Root Bone"),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(82204).Z,width:"1918",height:"924"})),(0,a.kt)("p",null,"The root bone is used to attach the Weapon to the Character's right hand Bone. The weapon is attached to the Bone Socket ",(0,a.kt)("inlineCode",{parentName:"p"},"hand_r_socket"),"."),(0,a.kt)("p",null,"You can open ",(0,a.kt)("inlineCode",{parentName:"p"},"SKEL_Mannequin")," and add your weapon as Preview Asset in the ",(0,a.kt)("inlineCode",{parentName:"p"},"hand_r_socket")," so you can visualize it attached, and do some adjustments if needed:"),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(90322).Z,width:"1918",height:"997"})),(0,a.kt)("h3",{id:"fixing-offsets-scale--rotation"},"Fixing Offsets, Scale & Rotation"),(0,a.kt)("p",null,"Sometimes when you import a Mesh, it is imported with wrong locations, scales or even pointing towards other direction (usually Y). Luckily there's a hack we can do inside Unreal to fix them!"),(0,a.kt)("p",null,"Just open your Skeletal Mesh Asset, under ",(0,a.kt)("strong",{parentName:"p"},"Assets Details")," window, look for ",(0,a.kt)("strong",{parentName:"p"},"Import Settings")," then ",(0,a.kt)("strong",{parentName:"p"},"Transform"),". Here you can tweak the Transform (Translation, Rotation and Scale) of the Weapon (will change the Root Bone transform)."),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(31041).Z,width:"1918",height:"1039"})),(0,a.kt)("p",null,"So if your Weapon is not positioned correctly in the Character hand location, or has wrong Scale, or is pointing to wrong location, you can tweak those settings and then press ",(0,a.kt)("strong",{parentName:"p"},"Reimport Base Mesh"),". It will reimport the Asset with the Transform you supplied:"),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(90327).Z,width:"982",height:"208"})),(0,a.kt)("h2",{id:"custom-bone-sockets"},"Custom Bone Sockets"),(0,a.kt)("p",null,"In order to make your Weapon as better integrated as possible, internally we use ",(0,a.kt)("strong",{parentName:"p"},"two")," custom Bone Sockets for spawning Particles such as Shells and Muzzle Flash."),(0,a.kt)("p",null,"To add a Bone Socket, just open your ",(0,a.kt)("strong",{parentName:"p"},"Skeleton")," asset:"),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(43054).Z,width:"583",height:"148"})),(0,a.kt)("p",null,"And right click on any bone and select ",(0,a.kt)("inlineCode",{parentName:"p"},"AddSocket"),", this will create a ",(0,a.kt)("strong",{parentName:"p"},"Socket")," at the same position and relative to the parent Bone:"),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(89570).Z,width:"343",height:"394"})),(0,a.kt)("h3",{id:"muzzle"},(0,a.kt)("inlineCode",{parentName:"h3"},"muzzle")),(0,a.kt)("p",null,"The ",(0,a.kt)("strong",{parentName:"p"},"muzzle")," Socket is where the ",(0,a.kt)("a",{parentName:"p",href:"/docs/scripting-reference/classes/weapon#setparticlesbarrel"},"Particle Barrel")," will be attached. So create a socket and place it in the muzzle of the weapon:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Pointing Red Axis (X) towards.")),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(28193).Z,width:"1917",height:"931"})),(0,a.kt)("h3",{id:"shell_eject"},(0,a.kt)("inlineCode",{parentName:"h3"},"shell_eject")),(0,a.kt)("p",null,"The ",(0,a.kt)("strong",{parentName:"p"},"shell_eject")," Socket is where the ",(0,a.kt)("a",{parentName:"p",href:"/docs/scripting-reference/classes/weapon#setparticlesshells"},"Particle Shells")," will be attached. So create a socket and place it in shells eject of the weapon:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Pointing Red Axis (X) outwards where the shell will be eject to."),(0,a.kt)("li",{parentName:"ul"},"And Pointing Green Axis (Y) the shell direction.")),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(25419).Z,width:"1918",height:"933"})),(0,a.kt)("h2",{id:"fire-animation"},"Fire Animation"),(0,a.kt)("p",null,"It is possible to have a custom Fire Animation for your Weapon. Usually animating weapons is easy as it's movements are straight and stiff, you can do it through Unreal!\nFor that, just open your Skeletal Mesh, then ",(0,a.kt)("strong",{parentName:"p"},"Create Asset")," and ",(0,a.kt)("strong",{parentName:"p"},"Create Animation")," and finally ",(0,a.kt)("strong",{parentName:"p"},"Current Pose"),". It will create an Animation Asset from the Weapon, empty."),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(85045).Z,width:"1916",height:"1009"})),(0,a.kt)("p",null,"This will open the Animation Editor like that:"),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(91304).Z,width:"1919",height:"995"})),(0,a.kt)("p",null,"To start, Stop the animation from playing clicking in To Front (1), Right Click on the darker bar (2) and Select Append to the End (3), and input ",(0,a.kt)("inlineCode",{parentName:"p"},"3"),", this will add 3 frames to the animation:"),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(18870).Z,width:"1919",height:"1018"})),(0,a.kt)("p",null,"In this case of an AK-47, let's animate the ",(0,a.kt)("inlineCode",{parentName:"p"},"b_gun_shelleject")," bone! For that, select it from ",(0,a.kt)("strong",{parentName:"p"},"Skeleton Tree")," window, and with the animation stopped at the beginning, click on ",(0,a.kt)("strong",{parentName:"p"},"+ Key"),", this will add the selected bone as Animation key to the beginning of the animation:"),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(10574).Z,width:"1918",height:"1011"})),(0,a.kt)("p",null,"Now do the same, but with the animation in the end, this will make sure the first and last frame have ",(0,a.kt)("inlineCode",{parentName:"p"},"b_gun_shelleject")," in the initial position:"),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(36743).Z,width:"1920",height:"1014"})),(0,a.kt)("p",null,"Now move the Animation Timeline to the middle of the animation and move ",(0,a.kt)("inlineCode",{parentName:"p"},"b_gun_shelleject")," a little bit, and finally press ",(0,a.kt)("strong",{parentName:"p"},"+ Key"),":"),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(47600).Z,width:"1920",height:"1014"})),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(85741).Z,width:"1920",height:"1014"})),(0,a.kt)("p",null,"And voila! If you press Play, you will notice it will loop playing your animation!"),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(46340).Z,width:"1920",height:"1016"})),(0,a.kt)("h2",{id:"exporting-the-weapon"},"Exporting the Weapon"),(0,a.kt)("p",null,"The Exporting process follows the usual process of exporting assets to nanos world. Please follow the ",(0,a.kt)("a",{parentName:"p",href:"/docs/assets-modding/creating-assets/importing-assets"},"Importing Custom Assets")," Guide."))}d.isMDXComponent=!0},49101:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/import-weapons-01-d28cd1e91879b35c97fc38d245caa20e.jpg"},89570:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/import-weapons-add-socket-a4a0ba04fb5c6d532a43c84b288cd431.jpg"},85045:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/import-weapons-fire-animation-01-763196f44b4cef1b0dfb19d9fb597e67.jpg"},91304:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/import-weapons-fire-animation-02-e955846561701ee56736886b72b758c7.jpg"},18870:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/import-weapons-fire-animation-03-87f4dd1e35ea0a05c8834fef9c76996a.jpg"},10574:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/import-weapons-fire-animation-04-e6102440e423c06d4a1d0c0db9ebbf83.jpg"},36743:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/import-weapons-fire-animation-05-44ecb90de3aec0e38e29cf451338c7c2.jpg"},47600:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/import-weapons-fire-animation-06-44ecb90de3aec0e38e29cf451338c7c2.jpg"},85741:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/import-weapons-fire-animation-07-1672c15bcac79aaa856d9b3d2462f184.jpg"},46340:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/import-weapons-fire-animation-08-9a796e88b29a06cbb4db7ec306587539.jpg"},31041:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/import-weapons-import-transform-8bb981d67b7db0c924f278f341b8f9d9.jpg"},90322:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/import-weapons-mannequin-hand-ef0f1b866033c33a2b774f59ac5ac505.jpg"},28193:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/import-weapons-muzzle-fef7f883bfdc9baea3c4cfdcd5114f1b.jpg"},90327:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/import-weapons-reimport-9eb926be5b7ce7ef5f3150055e70a6f7.jpg"},82204:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/import-weapons-root-bone-51fbff04cd030550b94f68b695a29391.jpg"},25419:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/import-weapons-shell-eject-33e20c0e02a8f67acba037d9d384ca01.jpg"},43054:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/import-weapons-skeleton-da2e159be692f6ac68c2b00874df30ee.jpg"}}]);